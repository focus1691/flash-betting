(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{245:function(e,t,n){e.exports=n(404)},277:function(e,t){},279:function(e,t){},314:function(e,t){},315:function(e,t){},401:function(e,t){},404:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),c=n.n(o),i=n(8),l=n(3),s={sports:[],currentSport:{currentSportId:void 0,sportCountries:[],currentCountry:void 0,countryCompetitions:[],currentCompetition:void 0,competitionEvents:[],currentEvent:void 0,eventMarkets:[]},currentMarket:void 0},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SPORTS_LIST":return Object(l.a)({},e,{sports:t.payload});case"SPORTS_CURRENT":return Object(l.a)({},e,{currentSport:t.payload});case"CURRENT_MARKET":return Object(l.a)({},e,{currentMarket:t.payload});default:return e}},d=n(40),m={marketOpen:!1,inPlay:!1,status:"OPEN",currentMarket:{},currentMarketVolume:{},runnerSelection:0,nonRunners:{},runners:{},ladder:{},excludedLadders:[],ladderOrder:{},oneClickOn:!1,priceType:"STAKE",myMarkets:[]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_MARKET_STATUS":return Object(l.a)({},e,{status:t.payload});case"SET_IN_PLAY":return Object(l.a)({},e,{inPlay:t.payload});case"LOAD_MARKET":return Object(l.a)({},e,{currentMarket:t.payload});case"SET_MARKET_VOLUME":return Object(l.a)({},e,{currentMarketVolume:t.payload});case"LOAD_LADDER":return Object(l.a)({},e,{marketOpen:!0,ladder:t.payload});case"LOAD_NON_RUNNERS":return Object(l.a)({},e,{nonRunners:t.payload});case"LOAD_RUNNERS":return Object(l.a)({},e,{runners:t.payload});case"EXCLUDE_LADDERS":return Object(l.a)({},e,{excludedLadders:t.payload});case"UPDATE_LADDER_ORDER":return Object(l.a)({},e,{ladderOrder:t.payload});case"SELECT_RUNNER":return Object(l.a)({},e,{runnerSelection:t.payload});case"TOGGLE_ONE_CLICK":return Object(l.a)({},e,{oneClickOn:t.payload});case"LOAD_MY_MARKETS":return Object(l.a)({},e,{myMarkets:t.payload});case"UPDATE_ORDER":return Object(l.a)({},e,{runners:Object(l.a)({},e.runners,Object(d.a)({},t.payload.id,Object(l.a)({},e.runners[t.payload.id],{order:Object(l.a)({},e.runners[t.payload.id].order,{backLay:t.payload.backLay,stake:t.payload.stake,price:t.payload.price,visible:t.payload.visible})})))});case"UPDATE_ORDER_VALUE":return Object(l.a)({},e,{runners:Object(l.a)({},e.runners,Object(d.a)({},t.payload.id,Object(l.a)({},e.runners[t.payload.id],{order:Object(l.a)({},e.runners[t.payload.id].order,{stake:t.payload.stake})})))});case"UPDATE_ORDER_PRICE":return Object(l.a)({},e,{runners:Object(l.a)({},e.runners,Object(d.a)({},t.payload.id,Object(l.a)({},e.runners[t.payload.id],{order:Object(l.a)({},e.runners[t.payload.id].order,{price:t.payload.price})})))});case"TOGGLE_STAKE_AND_LIABILITY":return Object(l.a)({},e,{runners:Object(l.a)({},e.runners,Object(d.a)({},t.payload.id,Object(l.a)({},e.runners[t.payload.id],{order:Object(l.a)({},e.runners[t.payload.id].order,{stakeLiability:1^e.runners[t.payload.id].order.stakeLiability})})))});case"TOGGLE_BACK_AND_LAY":return Object(l.a)({},e,{runners:Object(l.a)({},e.runners,Object(d.a)({},t.payload.id,Object(l.a)({},e.runners[t.payload.id],{order:Object(l.a)({},e.runners[t.payload.id].order,{backLay:1^e.runners[t.payload.id].order.backLay})})))});case"TOGGLE_ORDER_VISIBILITY":return Object(l.a)({},e,{runners:Object(l.a)({},e.runners,Object(d.a)({},t.payload.id,Object(l.a)({},e.runners[t.payload.id],{order:Object(l.a)({},e.runners[t.payload.id].order,{visible:t.payload.visible})})))});case"SWITCH_PRICE_TYPE":return Object(l.a)({},e,{priceType:t.payload});default:return e}},f={name:"",countryCode:"",currencyCode:"",localeCode:"",balance:"",time:(new Date).toLocaleString(),loggedIn:!1},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACCOUNT_DETAILS":return Object(l.a)({},e,{name:t.payload.name,countryCode:t.payload.countryCode.toLowerCase(),currencyCode:t.payload.currencyCode,localeCode:t.payload.localeCode});case"LAST_NAME":return t.payload;case"ACCOUNT_BALANCE":return Object(l.a)({},e,{balance:t.payload});case"UPDATE_TIME":return Object(l.a)({},e,{time:t.payload});case"LOG_IN":return Object(l.a)({},e,{loggedIn:t.payload});default:return e}},g=n(143),y=n.n(g),E={view:"HomeView",isLoading:!0,premiumMember:!1,premiumPopupOpen:!1,fullscreen:!1,trainingBalance:1e3,sounds:!1,tools:{visible:!0,open:!1},unmatchedBets:{visible:!1,open:!1},matchedBets:{visible:!1,open:!1},graphs:{visible:!1,open:!1},marketInfo:{visible:!1,open:!1},winMarketsOnly:!0,rules:{visible:!1,open:!1},trainingLadderAutoCenter:!1,ladderUnmatched:"hedged",stakeBtns:[2,4,6,8,10,12,14],layBtns:[2.5,5,7.5,10,12.5,15,17.5],stake:{}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVE_VIEW":return Object(l.a)({},e,{view:t.payload});case"SET_LOADING":return Object(l.a)({},e,{isLoading:t.payload});case"SET_PREMIUM_STATUS":return Object(l.a)({},e,{premiumMember:t.payload});case"TOGGLE_POPUP":return Object(l.a)({},e,{premiumPopupOpen:t.payload});case"FULL_SCREEN":return Object(l.a)({},e,{fullscreen:t.payload});case"SET_TRAINING_BALANCE":return Object(l.a)({},e,{trainingBalance:t.payload});case"TOGGLE_SOUNDS":return Object(l.a)({},e,{sounds:t.payload});case"TOGGLE_TOOLS":return Object(l.a)({},e,{tools:t.payload});case"TOGGLE_UNMATCHED_BETS":return Object(l.a)({},e,{unmatchedBets:t.payload});case"TOGGLE_MATCHED_BETS":return Object(l.a)({},e,{matchedBets:t.payload});case"TOGGLE_GRAPH":return Object(l.a)({},e,{graphs:t.payload});case"TOGGLE_MARKET_INFORMATION":return Object(l.a)({},e,{marketInfo:t.payload});case"SET_WIN_MARKETS":return Object(l.a)({},e,{winMarketsOnly:t.payload});case"TOGGLE_RULES":return Object(l.a)({},e,{rules:t.payload});case"TOGGLE_TRAINING_LADDER_AUTO_CENTER":return Object(l.a)({},e,{trainingLadderAutoCenter:t.payload});case"TOGGLE_LADDER_UNMATCHED_COLUMN":return Object(l.a)({},e,{ladderUnmatched:t.payload});case"SET_STAKE_BUTTONS":return Object(l.a)({},e,{stakeBtns:t.payload});case"SET_LAY_BUTTONS":return Object(l.a)({},e,{layBtns:t.payload});case"UPDATE_STAKE_BUTTON":return y()(e,{stakeBtns:Object(d.a)({},t.payload.id,{$set:t.payload.value})});case"UPDATE_LAY_BUTTON":return y()(e,{layBtns:Object(d.a)({},t.payload.id,{$set:t.payload.value})});case"SET_STAKE_IN_ONE_CLICK_MODE":var n=Object.assign({},e.stake);return n[t.payload.selectionId]=t.payload.price,Object(l.a)({},e,{stake:n});default:return e}},h={bets:{matched:{},unmatched:{}}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLACE_ORDER":case"UPDATE_BET":return Object(l.a)({},e,{bets:t.payload});default:return e}},O={selected:!1,offset:5,units:"Ticks",trailing:!0,hedged:!0,list:{},selections:null};O.text="".concat(O.offset," ").concat(O.units," [").concat(O.trailing?"x":"-","][").concat(O.hedged?"x":"-","]");var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STOP_LOSS_SELECTED":return Object(l.a)({},e,{selected:!e.selected});case"SET_STOP_LOSS_TEXT":return Object(l.a)({},e,{text:t.payload});case"SET_STOP_LOSS_OFFSET":return Object(l.a)({},e,{offset:t.payload});case"SET_STOP_LOSS_UNITS":return Object(l.a)({},e,{units:t.payload});case"TOGGLE_STOP_LOSS_TRAILING":return Object(l.a)({},e,{trailing:t.payload});case"TOGGLE_STOP_LOSS_HEDGED":return Object(l.a)({},e,{hedged:t.payload});case"UPDATE_STOP_LOSS_LIST":return Object(l.a)({},e,{list:t.payload});case"SET_STOP_LOSS_SELECTIONS":return Object(l.a)({},e,{selections:t.payload});default:return e}},T={selected:!1,operator:"<",ticks:3,stake:2,price:750,side:"BACK",list:{},selections:null},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STOP_ENTRY_SELECTED":return Object(l.a)({},e,{selected:!e.selected});case"SET_STOP_ENTRY_OPERATOR":return Object(l.a)({},e,{operator:t.payload});case"SET_STOP_ENTRY_TICKS":return Object(l.a)({},e,{ticks:t.payload});case"SET_STOP_ENTRY_STAKE":return Object(l.a)({},e,{stake:t.payload});case"SET_STOP_ENTRY_PRICE":return Object(l.a)({},e,{price:t.payload});case"SET_STOP_ENTRY_SIDE":return Object(l.a)({},e,{side:t.payload});case"UPDATE_STOP_ENTRY_LIST":return Object(l.a)({},e,{list:t.payload});case"SET_STOP_ENTRY_SELECTIONS":return Object(l.a)({},e,{selections:t.payload});default:return e}},C={selected:!1,stake:2,price:750,offset:{hours:0,minutes:0,seconds:0},executionTime:"Before",selections:null,list:{}};C.text="".concat(C.stake," @ ").concat(C.price);var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BACK_SELECTED":return Object(l.a)({},e,{selected:!e.selected});case"SET_BACK_TEXT":return Object(l.a)({},e,{text:t.payload});case"SET_BACK_STAKE":return Object(l.a)({},e,{stake:t.payload});case"SET_BACK_PRICE":return Object(l.a)({},e,{price:t.payload});case"SET_BACK_HOURS":return Object(l.a)({},e,{offset:{hours:t.payload,minutes:e.offset.minutes,seconds:e.offset.seconds}});case"SET_BACK_MINUTES":return Object(l.a)({},e,{offset:{hours:e.offset.hours,minutes:t.payload,seconds:e.offset.seconds}});case"SET_BACK_SECONDS":return Object(l.a)({},e,{offset:{hours:e.offset.hours,minutes:e.offset.minutes,seconds:t.payload}});case"TOGGLE_BACK_EXECUTION_BEFORE_OR_AFTER":return Object(l.a)({},e,{executionTime:t.payload});case"SET_BACK_SELECTIONS":return Object(l.a)({},e,{selections:t.payload});case"UPDATE_BACK_LIST":return Object(l.a)({},e,{list:t.payload});default:return e}},j={selected:!1,stake:2,price:750,offset:{hours:0,minutes:0,seconds:0},executionTime:"Before",selections:null,list:{}};j.text="".concat(j.stake," @ ").concat(j.price);var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LAY_SELECTED":return Object(l.a)({},e,{selected:!e.selected});case"SET_LAY_TEXT":return Object(l.a)({},e,{text:t.payload});case"SET_LAY_STAKE":return Object(l.a)({},e,{stake:t.payload});case"SET_LAY_PRICE":return Object(l.a)({},e,{price:t.payload});case"SET_LAY_HOURS":return Object(l.a)({},e,{offset:{hours:t.payload,minutes:e.offset.minutes,seconds:e.offset.seconds}});case"SET_LAY_MINUTES":return Object(l.a)({},e,{offset:{hours:e.offset.hours,minutes:t.payload,seconds:e.offset.seconds}});case"SET_LAY_SECONDS":return Object(l.a)({},e,{offset:{hours:e.offset.hours,minutes:e.offset.minutes,seconds:t.payload}});case"TOGGLE_LAY_EXECUTION_BEFORE_OR_AFTER":return Object(l.a)({},e,{executionTime:t.payload});case"SET_LAY_SELECTIONS":return Object(l.a)({},e,{selections:t.payload});case"UPDATE_LAY_LIST":return Object(l.a)({},e,{list:t.payload});default:return e}},_={transparent:!1,open:!1},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_GRAPH_TRANSPARENCY":return Object(l.a)({},e,{transparent:t.payload});case"OPEN_GRAPH":return Object(l.a)({},e,{open:!e.open});default:return e}},w={selected:!1,seconds:10,list:{}};w.text="".concat(w.seconds," seconds");var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILL_OR_KILL_SELECTED":return Object(l.a)({},e,{selected:!e.selected});case"SET_FILL_OR_KILL_TEXT":return Object(l.a)({},e,{text:t.payload});case"SET_FILL_OR_KILL_TIME":return Object(l.a)({},e,{seconds:t.payload});case"UPDATE_FILL_OR_KILL_LIST":return Object(l.a)({},e,{list:t.payload});default:return e}},B={selected:!1,ticks:2,units:"Ticks",percentTrigger:2,hedged:!1,list:{}};B.text="".concat(B.ticks," ").concat(B.units," [").concat(B.hedged?"x":"-","]");var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TICK_OFFSET_SELECTED":return Object(l.a)({},e,{selected:!e.selected});case"SET_TICK_OFFSET_TEXT":return Object(l.a)({},e,{text:t.payload});case"SET_TICK_OFFSET_TICKS":return Object(l.a)({},e,{ticks:t.payload});case"SET_TICK_OFFSET_UNIT":return Object(l.a)({},e,{units:t.payload});case"SET_TICK_OFFSET_PERCENT_TRIGGER":return Object(l.a)({},e,{percentTrigger:t.payload});case"TOGGLE_TICK_OFFSET_HEDGED":return Object(l.a)({},e,{hedged:t.payload});case"UPDATE_TICK_OFFSET_LIST":return Object(l.a)({},e,{list:t.payload});default:return e}},M={account:b,sports:u,market:p,settings:k,order:v,stopLoss:S,tickOffset:R,back:I,lay:x,fillOrKill:A,stopEntry:L,graph:N},F=n(66),P=n(213),D=n(62),U=n(57),K=n(9),G=function(e){return{type:"LOG_IN",payload:e}},z=n(452),Y=n(447),H=n(476),W=n(451),V=n(474),X=n(77),J=n(405),q=n(446),Z=n(26),$=Object(J.a)(function(e){return{"@global":{body:{backgroundColor:"theme.palette.common.white"}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#FFB80C",borderRadius:"25px",border:"5px solid #000"},avatar:{margin:e.spacing(1)},form:{width:"100%",marginTop:e.spacing(1),margin:e.spacing(5),padding:"25px"},submit:{margin:e.spacing(3,0,2)}}}),Q=Object(i.b)(function(e){return{loggedIn:e.account.loggedIn}},function(e){return{onLogin:function(t){return e(G(t))}}})(function(e){var t=Object(Z.b)(["sessionKey","username","password","rememberMe"]),n=Object(K.a)(t,3),o=n[0],c=n[1],i=n[2],l=Object(a.useState)(!(!o.rememberMe||"yes"!==o.rememberMe)),s=Object(K.a)(l,2),u=s[0],d=s[1],m=$();e.onLogin(!1);return r.a.createElement(r.a.Fragment,null,e.loggedIn&&o.sessionKey?r.a.createElement(U.a,{to:"/authentication"}):null,r.a.createElement(q.a,{component:"main",maxWidth:"xs"},r.a.createElement(Y.a,null),r.a.createElement("div",{className:m.paper},r.a.createElement("img",{src:window.location.origin+"/images/Webp.net-resizeimage.png",alt:"Betfair",className:m.avatar}),r.a.createElement(X.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:m.form,noValidate:!0},r.a.createElement(H.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:o.username,onChange:function(e){c("username",e.target.value)},autoComplete:"email",autoFocus:!0}),r.a.createElement(H.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",value:o.password,onChange:function(e){c("password",e.target.value)},label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(W.a,{control:r.a.createElement(V.a,{value:"remember",color:"primary"}),label:"Remember me",checked:u,onChange:function(e,t){return d(t)}}),r.a.createElement(z.a,{onClick:function(t){fetch("/api/login?user=".concat(o.username,"&pass=").concat(o.password)).then(function(e){return e.json()}).then(function(t){t.error?(i("sessionKey"),i("username"),i("password"),c("rememberMe","no"),d(!1)):(c("sessionKey",t.sessionKey),c("username",o.username),c("password",o.password),c("rememberMe","yes"),d(!0),e.onLogin(!0))})},fullWidth:!0,variant:"contained",color:"primary",className:m.submit},"Sign In")))))}),ee=Object(i.b)(function(e){return{loggedIn:e.account.loggedIn}},function(e){return{onLogout:function(t){return e(G(t))}}})(function(e){var t=Object(Z.b)(["sessionKey","accessToken","refreshToken","expiresIn"]),n=Object(K.a)(t,3),o=(n[0],n[1],n[2]);return Object(a.useEffect)(function(){fetch("/api/logout").then(function(e){return e.json()}).then(function(t){o("sessionKey"),o("accessToken"),o("refreshToken"),o("expiresIn"),e.onLogout(!1)})},[]),r.a.createElement(r.a.Fragment,null,e.loggedIn?null:r.a.createElement(U.a,{to:"/"}),r.a.createElement("section",null,"Logging out..."))}),te=n(7),ne=n.n(te),ae=n(12),re=function(e){return{type:"TOGGLE_POPUP",payload:e}},oe=function(e){return{type:"SET_PREMIUM_STATUS",payload:e}},ce=function(e){return{type:"TOGGLE_SOUNDS",payload:e}},ie=function(e){return{type:"TOGGLE_TOOLS",payload:e}},le=function(e){return{type:"TOGGLE_UNMATCHED_BETS",payload:e}},se=function(e){return{type:"TOGGLE_MATCHED_BETS",payload:e}},ue=function(e){return{type:"TOGGLE_GRAPH",payload:e}},de=function(e){return{type:"TOGGLE_MARKET_INFORMATION",payload:e}},me=function(e){return{type:"SET_WIN_MARKETS",payload:e}},pe=function(e){return{type:"TOGGLE_RULES",payload:e}},fe=function(e){return{type:"TOGGLE_LADDER_UNMATCHED_COLUMN",payload:e}},be=function(e){return{type:"SET_STAKE_IN_ONE_CLICK_MODE",payload:e}},ge=function(e){return{type:"LOAD_RUNNERS",payload:e}},ye=function(e){return{type:"EXCLUDE_LADDERS",payload:e}},Ee=function(e){return{type:"SELECT_RUNNER",payload:e}},ke=function(e){return{type:"LOAD_MY_MARKETS",payload:e}},he=function(e){return{type:"UPDATE_STOP_LOSS_LIST",payload:e}},ve=function(e){return{type:"UPDATE_TICK_OFFSET_LIST",payload:e}},Oe=function(e){return{type:"UPDATE_STOP_ENTRY_LIST",payload:e}},Se=n(215),Te=n.n(Se),Le=n(466),Ce=n(6),Ie=n(228),je=n(465),xe=n(464),_e=n(227),Ne=Object(_e.a)(a,{useCssModules:!1}),we=n(115),Ae=n.n(we),Be=function(){var e=Object(a.useState)((new Date).toLocaleString()),t=Object(K.a)(e,2),n=t[0],o=t[1];return Ae()(function(){o((new Date).toLocaleString())},1e3),r.a.createElement("div",{className:"box"},r.a.createElement("img",{src:window.location.origin+"/icons/calendar-with-alarm-clock.png",alt:"Time"}),r.a.createElement("span",null,n))},Re=function(e,t,n){return new Intl.NumberFormat(e?"".concat(e,"-").concat(e.toUpperCase()):"gb-GB",{style:"currency",currency:t||"GBP"}).format(n)},Me=Object(i.b)(function(e){return{name:e.account.name,countryCode:e.account.countryCode,currencyCode:e.account.currencyCode,localeCode:e.account.localeCode,balance:e.account.balance,time:e.account.time}},function(e){return{onReceiveAccountDetails:function(t){return e(function(e){return{type:"ACCOUNT_DETAILS",payload:e}}(t))},onReceiveBalance:function(t){return e(function(e){return{type:"ACCOUNT_BALANCE",payload:e}}(t))},onUpdateTime:function(t){return e(function(e){return{type:"UPDATE_TIME",payload:e}}(t))}}})(function(e){var t=Object(a.useState)(!0),n=Object(K.a)(t,2),o=n[0],c=n[1];return Object(a.useEffect)(function(){fetch("/api/get-account-details").then(function(e){return e.json()}).then(function(t){return e.onReceiveAccountDetails(t)}).catch(function(e){return c(!1)}),fetch("/api/get-account-balance").then(function(e){return e.json()}).then(function(t){return e.onReceiveBalance(t.balance)}).catch(function(e){return c(!1)})},[]),o?r.a.createElement("div",{id:"sidebar-header"},r.a.createElement("p",{id:"flag-name"},e.name,r.a.createElement("button",{id:"logout",onClick:function(e){return c(!1)}},r.a.createElement("img",{alt:"Logout",src:window.location.origin+"/icons/logout.png"}))),r.a.createElement("p",null,r.a.createElement(Ne,{code:e.countryCode||"gb"})," ",Re(e.localeCode,e.currencyCode,e.balance)),r.a.createElement(Be,null)):r.a.createElement(U.a,{to:"/logout"})}),Fe=Object(i.b)(function(e){return{view:e.settings.view,fullscreen:e.settings.fullscreen,premiumMember:e.settings.premiumMember}},function(e){return{onViewChange:function(t){return e(function(e){return{type:"ACTIVE_VIEW",payload:e}}(t))},onToggleFullscreen:function(t){return e(function(e){return{type:"FULL_SCREEN",payload:e}}(t))},openPremiumDialog:function(t){return e(re(t))}}})(function(e){var t=function(t){e.onViewChange(t)};return r.a.createElement("div",{id:"toolbar"},r.a.createElement("button",{onClick:function(e){return t("TrainingView")},style:"TrainingView"===e.view?{background:"#389C41"}:{}},r.a.createElement("img",{alt:"Training",src:window.location.origin+"/icons/graduated.png"})),r.a.createElement("button",{onClick:function(t){e.onToggleFullscreen(!e.fullscreen)},style:e.fullscreen?{background:"#389C41"}:{}},r.a.createElement("img",{alt:"Hide",src:window.location.origin+"/icons/sort-up.png"})),r.a.createElement("button",{onClick:function(e){return t("HomeView")},style:"HomeView"===e.view?{background:"#389C41"}:{}},r.a.createElement("img",{alt:"Home",src:window.location.origin+"/icons/homepage.png"})),r.a.createElement("button",{onClick:function(n){return e.premiumMember?t("LadderView"):e.openPremiumDialog(!0)},style:"LadderView"===e.view?{background:"#389C41"}:{}},r.a.createElement("img",{alt:"Ladder",src:window.location.origin+"/icons/menu-button-of-three-vertical-lines.png"})),r.a.createElement("button",{onClick:function(e){return t("GridView")},style:"GridView"===e.view?{background:"#389C41"}:{}},r.a.createElement("img",{alt:"Grid",src:window.location.origin+"/icons/menu-button-of-three-horizontal-lines.png"})))}),Pe=n(453),De=Object(J.a)(function(e){return{appBar:{background:"#303030",color:"orange",fontWeight:"900",border:"2px solid #fff"},title:{textAlign:"center",fontWeight:"bold"},group:{margin:e.spacing(1,0)}}}),Ue=function(e,t,n){var a=Math.round(100*(e*t-e))/100,r=Math.round(100*(e*n-e))/100,o=Math.abs(Math.round(100*(r-a))/100)/r*100;return o=Math.floor(o)},Ke=function(e){return parseFloat((Math.round(100*e)/100).toFixed(2))},Ge=function(e,t,n){var a=parseFloat((e*t-e).toFixed(2));return 0===n?a||0:1===n?-a||0:void 0},ze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0===e&&t>0?"#01CC41":"red"},Ye=function(e){switch(e){case"BACK":return"LAY";case"LAY":return"BACK"}},He=function(e,t){return t*e-t},We=function(e,t,n,a){var r=Ke(e*t/n);return"BACK"===a?r:-r},Ve=function(e,t,n){return Ke(e*t/n-e)},Xe=function(e,t,n){return function(e,t){return e.map(function(e){return e.reduce(function(e,n){var a=e.stake,r=n.price,o=n.size,c=n.side,i=n.selectionId;return{buyPrice:t[i],stake:Ke(a+We(o,r,t[i],c)),side:Ye(c),selectionId:i}},{prices:[],stake:[]})})}(Object.values(t.matched).reduce(function(e,t){return-1===e.indexOf(t.selectionId)?e.concat(t.selectionId):e},[]).map(function(n){if(Je(e,n,t))return Object.values(t.matched).filter(function(t){return t.marketId===e&&t.selectionId==n})}).filter(function(e){return void 0!==e}),n)},Je=function(e,t,n){var a=[0,0];return Object.values(n.matched).filter(function(n){return n.marketId===e&&n.selectionId==t}).map(function(e){switch(e.side){case"BACK":a[0]++;break;case"LAY":a[1]++}}),a[0]>0&&0===a[1]||0===a[0]&&a[1]>0},qe=function(e){return{type:"UPDATE_BET",payload:e}},Ze=function(e){if(void 0!==e.unmatchedBets&&void 0!==e.matchedBets)return e.size="LAY"===e.size?function(e,t){var n,a,r,o=parseFloat((t/(e-1)).toFixed(2));return{backersStake:o,liability:(n="LAY",a=o,r=e,"BACK"===n?a:parseFloat(a*(r-1).toFixed(2))).toFixed(2)}}(e.price,e.size).liability:parseFloat(e.size),e.price=parseFloat(e.price),function(t){return fetch("/api/place-order",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(){var n=Object(ae.a)(ne.a.mark(function n(a){var r,o,c,i;return ne.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if("BET_ACTION_ERROR"!=a.errorCode){n.next=2;break}return n.abrupt("return");case 2:if(r=a.instructionReports[0].betId,(o=Object.assign({},e)).rfs=e.customerStrategyRef,o.betId=r,o.strategy="None",void 0!==r){n.next=9;break}return n.abrupt("return");case 9:return(c=Object.assign({},e.unmatchedBets))[r]=o,i={unmatched:c,matched:void 0==e.matchedBets?{}:e.matchedBets},n.next=14,fetch("/api/save-order",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(o)});case 14:if(void 0===e.orderCompleteCallBack){n.next=17;break}return n.next=17,e.orderCompleteCallBack(r,c);case 17:t(qe(i));case 18:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())}},$e=function(e){if(void 0!==e.unmatchedBets&&void 0!==e.matchedBets)return function(t){return fetch("/api/cancel-order",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(n){var a={};for(var r in e.unmatchedBets)r!==e.betId&&(a[r]=e.unmatchedBets[r]);var o={unmatched:a,matched:void 0==e.matchedBets?{}:e.matchedBets};t(qe(o))})}},Qe=function(e){return{type:"UPDATE_LAY_LIST",payload:e}},et=function(e){return{type:"UPDATE_BACK_LIST",payload:e}},tt=function(e){return{type:"UPDATE_FILL_OR_KILL_LIST",payload:e}},nt=function(){var e=Object(ae.a)(ne.a.mark(function e(t,n,a,r,o,c,i){var l,s;return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=Object.assign({},t),s=[],Object.keys(t).map(function(e){var u=l[e],d=[];t[e].map(function(t,l){var u=new Date(n).valueOf()/1e3-(new Date).valueOf()/1e3;"Before"===t.executionTime&&u-t.timeOffset<=0&&(a({marketId:r,selectionId:parseInt(e),side:o,size:t.size,price:t.price,matchedBets:c,unmatchedBets:i}),d=d.concat(l),s=s.concat(t))}),l[e]=u.filter(function(e,t){return-1===d.indexOf(t)}),0===l[e].length&&delete l[e]}),!(s.length>0)){e.next=6;break}return e.next=6,fetch("/api/remove-orders",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(s)});case 6:return e.abrupt("return",l);case 7:case"end":return e.stop()}},e)}));return function(t,n,a,r,o,c,i){return e.apply(this,arguments)}}(),at=function(){var e=Object(ae.a)(ne.a.mark(function e(t,n,a,r,o,c,i,l){var s,u,d;return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=[],d=[],(s=t).map(function(e,t){var s=Math.abs(new Date(a).valueOf()/1e3-(new Date).valueOf()/1e3);"After"===e.executionTime&&s>=e.timeOffset&&(r({marketId:o,selectionId:parseInt(n),side:c,size:e.size,price:e.price,matchedBets:i,unmatchedBets:l}),d=d.concat(t),u=u.concat(e))}),!(u.length>0)){e.next=7;break}return e.next=7,fetch("/api/remove-orders",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(u)});case 7:return e.abrupt("return",s.filter(function(e,t){return-1===d.indexOf(t)}));case 8:case"end":return e.stop()}},e)}));return function(t,n,a,r,o,c,i,l){return e.apply(this,arguments)}}(),rt=Object(i.b)(function(e){return{marketOpen:e.market.marketOpen,marketStatus:e.market.status,inPlay:e.market.inPlay,market:e.market.currentMarket,layList:e.lay.list,backList:e.back.list,fillOrKillList:e.fillOrKill.list,tickOffsetList:e.tickOffset.list,bets:e.order.bets}},function(e){return{onPlaceOrder:function(t){return e(Ze(t))},onCancelOrder:function(t){return e($e(t))},onUpdateLayList:function(t){return e(Qe(t))},onUpdateBackList:function(t){return e(et(t))},onUpdateFillOrKillList:function(t){return e(tt(t))},onUpdateTickOffsetList:function(t){return e(ve(t))},onChangeOrders:function(t){return e(qe(t))}}})(function(e){var t=Object(a.useState)("--"),n=Object(K.a)(t,2),o=n[0],c=n[1];Ae()(Object(ae.a)(ne.a.mark(function t(){var n,a,r,o,i,l;return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c(e.market?new Date<new Date(e.market.marketStartTime)?new Date(e.market.marketStartTime)-new Date:new Date>new Date(e.market.marketStartTime)?Math.abs(new Date(e.market.marketStartTime)-new Date):"--":"--"),t.next=3,nt(e.backList,e.market.marketStartTime,e.onPlaceOrder,e.market.marketId,"BACK",e.bets.matched,e.bets.unmatched);case 3:return n=t.sent,e.onUpdateBackList(n),t.next=7,nt(e.layList,e.market.marketStartTime,e.onPlaceOrder,e.market.marketId,"LAY",e.bets.matched,e.bets.unmatched);case 7:if(a=t.sent,e.onUpdateLayList(a),r={},o=Object.assign({},e.tickOffsetList),i=Object.assign({},e.bets.unmatched),l=[],Object.keys(e.fillOrKillList).map(function(t,n){var a=e.fillOrKillList[t];Date.now()/1e3-a.startTime/1e3>=a.seconds?(e.onCancelOrder({marketId:e.market.marketId,betId:t,sizeReduction:null,matchedBets:e.bets.matched,unmatchedBets:e.bets.unmatched}),l=l.concat(a),void 0!==i[t]&&(l=l.concat(i[t]),delete i[t]),Object.values(e.tickOffsetList).map(function(e){e.rfs===a.rfs&&(l=l.concat(o[e.rfs]),delete o[e.rfs])})):r[t]=e.fillOrKillList[t]}),!(l.length>0)){t.next=17;break}return t.next=17,fetch("/api/remove-orders",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(l)});case 17:Object.values(i).length!==Object.values(e.bets.unmatched).length&&e.onChangeOrders({unmatched:i,matched:e.bets.matched}),e.onUpdateTickOffsetList(o),e.onUpdateFillOrKillList(r);case 20:case"end":return t.stop()}},t)})),1e3);var i=function(e){for(var t=e.toString();t.length<2;)t="0".concat(t);return t};return r.a.createElement("div",null,e.marketOpen?"OPEN"===e.marketStatus?function(e){if("number"!==typeof e)return"--";var t=e/1e3,n=Math.floor(parseInt(t/3600));t%=3600;var a=Math.floor(parseInt(t/60));return t=Math.floor(t%60),Math.abs(n)<=0&&a<=0&&t<=0?"00:00:00":"".concat(n,":").concat(i(a),":").concat(i(t))}(o):"SUSPENDED"===e.marketStatus||"CLOSED"===e.marketStatus?e.marketStatus:"00:00:00":null)}),ot=Object(i.b)(function(e){return{currentEvent:e.sports.currentSport.currentEvent,market:e.market.currentMarket,marketOpen:e.market.marketOpen}})(function(e){var t=De();return r.a.createElement("div",{id:"sidebar-event"},r.a.createElement("div",{id:"sidebar-event-section-1"},r.a.createElement("div",{id:"sidebar-event-section-2"},r.a.createElement("span",null,r.a.createElement(rt,null))),r.a.createElement(X.a,null,"Price: ",r.a.createElement("b",null,"5")),r.a.createElement(X.a,null,"API: ",r.a.createElement("b",null,"33.87"))),r.a.createElement(Pe.a,{className:t.AppBar,position:"static"},r.a.createElement(X.a,{variant:"h6",className:t.title},e.marketOpen?new Date(e.market.marketStartTime).toLocaleTimeString()+" "+e.market.marketName+(e.market.event.venue?" ".concat(e.market.event.venue):""):"No Event Selected")))}),ct=n(450),it=n(406),lt=n(456),st=n(454),ut=n(455),dt=function(e){var t=e.list,n=e.itemSelector,a=e.clickHandler,o=e.myMarkets,c=e.idSelector,i=e.currentSportId,l=e.updateMyMarkets;return t.map(function(e,s){var u=void 0!==o.find(function(t){return t.id==e[c]&&t.sportId==i});return r.a.createElement("tr",{style:{display:"flex",flexDirection:"row",height:"3em",paddingBottom:"2px",marginTop:"0.5em",marginLeft:"2rem"}},r.a.createElement(st.a,{style:{minWidth:"auto",cursor:"pointer"},onClick:function(){return l(u,e[c],e[n],i)}},r.a.createElement("img",{src:window.location.origin+(u?"/icons/rounded-remove-button.png":"/icons/add-button-inside-black-circle.png"),alt:"Add",style:{height:"16px",width:"auto",alignSelf:"center",filter:u?"invert(22%) sepia(92%) saturate(6689%) hue-rotate(358deg) brightness(91%) contrast(121%)":"none"}})),r.a.createElement(it.a,{button:!0,style:{},onClick:function(t){return a(e)}},r.a.createElement("p",{style:{minWidth:"13em"}},e[n])),s===t.length-1?null:r.a.createElement(ut.a,{style:{marginLeft:"4rem",width:"100%"}}))})},mt=function(e){var t=e.sports,n=e.currentSportId,a=e.countries,o=e.handleClick,c=e.myMarkets,i=e.updateMyMarkets,l=function(e,t){return Date.parse(e.marketStartTime)-Date.parse(t.marketStartTime)},s=function(e){/TC-/gm.test(e.eventType.id)?o(e.eventType,"currentEvent","eventMarkets","list-todays-card",e.eventType.id.replace(/TC-/,""),"","","",function(e){return e.map(function(e){return function(e){var t=new Date(e.marketStartTime),n=new Date(Date.now()).getDay(),a=t.getDay(),r={timeZone:"UTC",hour12:!1};(a>n||a<n)&&(r.weekday="short");var o=t.toLocaleTimeString("en-us",r);return Object.assign(e,{marketName:o+" "+e.event.venue+" "+e.marketName})}(e)})},function(e){return e.sort(l)}):o(e.eventType.id,"currentSportId","sportCountries","list-countries",e.eventType.id)};return t.sports.map(function(e){if(void 0!==n&&e.eventType.id!==n)return null;var t=void 0!==c.find(function(t){return"Sport"===t.type&&t.id==e.eventType.id});return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{style:Object.assign({paddingBottom:"2px",marginTop:"0.5em"},void 0===n?{display:"flex",flexDirection:"row",height:"3em",marginLeft:"1rem",width:"100%"}:{display:"flex",flexDirection:"column"})},void 0===n?r.a.createElement(st.a,{style:{minWidth:"0px"},onClick:function(){return i(t?"sub":"add",e.eventType.id,e.eventType.name,e.eventType.id,"Sport")}},r.a.createElement("img",{src:window.location.origin+(t?"/icons/rounded-remove-button.png":"/icons/add-button-inside-black-circle.png"),alt:"Add",style:{height:"16px",width:"auto",alignSelf:"center",cursor:"pointer",filter:t?"invert(22%) sepia(92%) saturate(6689%) hue-rotate(358deg) brightness(91%) contrast(121%)":"none"}})):null,r.a.createElement(it.a,{button:!0,onClick:function(t){return s(e)}},r.a.createElement(lt.a,{style:{marginLeft:0}},e.eventType.name)),void 0!==n&&e.eventType.id===n?r.a.createElement(dt,{list:a.sort(function(e,t){return e.countryCode.localeCompare(t.countryCode)}),itemSelector:"countryCode",clickHandler:function(){var e=Object(ae.a)(ne.a.mark(function e(t){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t.countryCode,"currentCountry","countryCompetitions","list-competitions",n,t.countryCode,"","",function(e){return e.map(function(e){return e.competition})});case 2:if(0!==e.sent.length){e.next=6;break}return e.next=6,o(t.countryCode,"currentCountry","competitionEvents","list-events",n,t.countryCode,"","",function(e){return e.map(function(e){return e.event})});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),currentSportId:n,myMarkets:c,idSelector:"countryCode",updateMyMarkets:function(e,t,n,a){return i(e?"sub":"add",t,n,a,"Country")}}):null),r.a.createElement(ut.a,{style:{marginTop:"0.5em"}}))})},pt=function(e){var t=e.currentItem,n=e.newArray,a=e.currentItemName,o=e.newArrayName,c=e.listSelector,i=e.reverseClickHandler,l=e.clickHandler,s=e.currentItemFull,u=e.myMarkets,d=e.idSelector,m=e.currentSportId,p=e.updateMyMarkets;return void 0===s&&(s=t),r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(it.a,{button:!0,onClick:function(e){return i(s,a,o)}},r.a.createElement(lt.a,null,t))),r.a.createElement(dt,{list:n,itemSelector:c,clickHandler:function(e){return l(e)},myMarkets:u,idSelector:d,currentSportId:m,updateMyMarkets:p}))},ft=function(e){var t=e.currentCountry,n=e.competitions,a=e.handleClick,o=e.currentSportId,c=e.myMarkets,i=e.updateMyMarkets;return r.a.createElement(pt,{currentItem:t,newArray:n,currentItemName:"currentCountry",newArrayName:"countryCompetitions",listSelector:"name",reverseClickHandler:a,myMarkets:c,idSelector:"id",currentSportId:o,clickHandler:function(e){return a(e,"currentCompetition","competitionEvents","list-competition-events",o,t,e.id,"",function(e){return e.map(function(e){return e.event})})},updateMyMarkets:function(e,t,n,a){return i(e?"sub":"add",t,n,a,"Competition")}})},bt=function(e){var t=e.currentCompetition,n=e.currentCountry,a=e.competitionEvents,o=e.handleClick,c=e.myMarkets,i=e.currentSportId,l=e.updateMyMarkets;return r.a.createElement(pt,{currentItem:void 0!==t?t.name:n,newArray:a,currentItemName:void 0!==t?"currentCompetition":"currentCountry",newArrayName:"competitionEvents",listSelector:"name",reverseClickHandler:o,clickHandler:function(e){return o(e,"currentEvent","eventMarkets","list-markets","","","",e.id,function(e){return e.result})},myMarkets:c,idSelector:"id",currentSportId:i,currentItemFull:void 0!==t?t:n,updateMyMarkets:function(e,t,a,r){return l(e?"sub":"add",t,a,r,"Event",n)}})},gt=function(e){var t=e.name,n=e.markets,a=e.handleClick,o=e.event,c=e.myMarkets,i=e.currentSportId,l=e.updateMyMarkets;return r.a.createElement(pt,{currentItem:t,newArray:n,currentItemName:"currentEvent",newArrayName:"eventMarkets",listSelector:"marketName",reverseClickHandler:a,clickHandler:function(e){return window.open("/dashboard?marketId=".concat(e.marketId))},currentItemFull:o,myMarkets:c,idSelector:"marketId",currentSportId:i,updateMyMarkets:function(e,t,n,a){return l(e?"sub":"add",t,n,a,"Market")}})},yt=Object(i.b)(function(e){return{myMarkets:e.market.myMarkets,sports:e.sports,winMarketsOnly:e.settings.winMarketsOnly}},function(e){return{onReceiveMyMarkets:function(t){return e(ke(t))}}})(function(e){var t=Object(a.useState)({}),n=Object(K.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)({}),l=Object(K.a)(i,2),s=l[0],u=l[1],d=s.currentSportId,m=s.sportCountries,p=s.currentCountry,f=s.countryCompetitions,b=s.currentCompetition,g=s.competitionEvents,y=s.currentEvent,E=s.eventMarkets,k=function(){var t=Object(ae.a)(ne.a.mark(function t(n,a,r,i){var l,d,m,p,f,b,g,y,E,k,h=arguments;return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=h.length>4&&void 0!==h[4]?h[4]:"",d=h.length>5&&void 0!==h[5]?h[5]:"",m=h.length>6&&void 0!==h[6]?h[6]:"",p=h.length>7&&void 0!==h[7]?h[7]:"",f=h.length>8&&void 0!==h[8]?h[8]:function(e){return e},b=h.length>9&&void 0!==h[9]?h[9]:function(e){return e},n!==o.id&&n.id!==o.id){t.next=10;break}return c({}),u({}),t.abrupt("return");case 10:if(s[a]!==n){t.next=16;break}return(g=Object.assign({},s))[a]=void 0,g[r]=void 0,u(g),t.abrupt("return");case 16:return t.next=18,fetch("/api/".concat(i,"?sportId=").concat(l,"&&winMarketsOnly=").concat(e.winMarketsOnly,"&&country=").concat(d,"&&competitionId=").concat(m,"&&eventId=").concat(p));case 18:return y=t.sent,t.next=21,y.json();case 21:return E=t.sent,(k=Object.assign({},s))[a]=n,k[r]=b(f(E)),void 0===k.currentSportId&&(k.currentSportId=l),void 0===k.currentCountry&&(k.currentCountry=d),u(k),t.abrupt("return",E);case 29:case"end":return t.stop()}},t)}));return function(e,n,a,r){return t.apply(this,arguments)}}(),h=function(e,t){return Date.parse(e.marketStartTime)-Date.parse(t.marketStartTime)},v=function(e,t,n,a,r){switch(c({id:e,name:t,sportId:n,type:a,country:r}),a){case"Sport":if(/TC-/gm.test(e)){k({id:e,name:t},"currentEvent","eventMarkets","list-todays-card",e.replace(/TC-/,""),"","","",function(e){return e.map(function(e){return function(e){var t=new Date(e.marketStartTime),n=new Date(Date.now()).getDay(),a=t.getDay(),r={timeZone:"UTC",hour12:!1};(a>n||a<n)&&(r.weekday="short");var o=t.toLocaleTimeString("en-us",r);return Object.assign(e,{marketName:o+" "+e.event.venue+" "+e.marketName})}(e)})},function(e){return e.sort(h)});break}k({id:e},"currentSportId","sportCountries","list-countries",n);break;case"Country":k({id:e},"currentCountry","countryCompetitions","list-competitions",n,e,"","",function(e){return e.map(function(e){return e.competition})});break;case"Competition":k({id:e,name:t},"currentCompetition","competitionEvents","list-competition-events",n,r,e,"",function(e){return e.map(function(e){return e.event})});break;case"Event":k({id:e,name:t},"currentEvent","eventMarkets","list-markets","","","",e,function(e){return e.result})}};Object(a.useEffect)(function(){fetch("/api/get-my-markets").then(function(e){return e.json()}).then(function(t){return e.onReceiveMyMarkets(t)})},[]);var O=function(t,n,a,r,o,c){var i={id:n,name:a,sportId:r,type:o,country:c};fetch("/api/".concat("add"==t?"save-market":"remove-market"),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(t){e.onReceiveMyMarkets(t)}).catch(function(e){})};return r.a.createElement(ct.a,null,o.type?void 0!==y&&void 0!==E&&E.length>0?r.a.createElement(gt,{currentSportId:d,name:y.name,markets:E.sort(function(e,t){return e.marketName.localeCompare(t.marketName)}),handleClick:k,event:y,myMarkets:e.myMarkets,updateMyMarkets:O}):void 0!==p&&void 0!==g&&g.length>0&&void 0===y?r.a.createElement(bt,{currentSportId:d,currentCompetition:b,currentCountry:p,competitionEvents:g.sort(function(e,t){return Date.parse(e.openDate)-Date.parse(t.openDate)||e.name.localeCompare(t.name)}),handleClick:k,myMarkets:e.myMarkets,updateMyMarkets:O}):void 0!==p&&void 0!==f&&f.length>0&&void 0===y?r.a.createElement(ft,{currentCountry:p.id,competitions:void 0===f?[]:f,handleClick:k,currentSportId:d,myMarkets:e.myMarkets,updateMyMarkets:O}):r.a.createElement(mt,{sports:e.sports,currentSportId:o.id,countries:void 0===m?[]:m,handleClick:k,myMarkets:e.myMarkets,updateMyMarkets:O}):e.myMarkets.map(function(t,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{style:{display:"flex",flexDirection:"row",height:"3em",paddingBottom:"2px",marginTop:"0.5em",marginLeft:"1rem"}},r.a.createElement(st.a,{style:{minWidth:"auto",cursor:"pointer"},onClick:function(){return O("sub",t.id,t.name,t.sportId,t.type,t.country)}},r.a.createElement("img",{src:window.location.origin+"/icons/rounded-remove-button.png",alt:"Remove",style:{height:"16px",width:"auto",alignSelf:"center",filter:"invert(22%) sepia(92%) saturate(6689%) hue-rotate(358deg) brightness(91%) contrast(121%)"}})),r.a.createElement(it.a,{onClick:function(){return"Market"===t.type?window.open("/dashboard?marketId=".concat(t.id)):v(t.id,t.name,t.sportId,t.type,t.country)},button:!0},r.a.createElement(lt.a,{style:{minWidth:"13em"}},t.name))),n===e.myMarkets.length-1?null:r.a.createElement(ut.a,{style:{width:"100%"}}))}))}),Et=Object(i.b)(function(e){return{sports:e.sports,currentSport:e.currentSport,myMarkets:e.market.myMarkets,winMarketsOnly:e.settings.winMarketsOnly}},function(e){return{onReceiveAllSports:function(t){return e(function(e){return{type:"SPORTS_LIST",payload:e}}(t))},onUpdateCurrentSport:function(t){return e(function(e){return{type:"SPORTS_CURRENT",payload:e}}(t))},onUpdateMyMarkets:function(t){return e(ke(t))}}})(function(e){Object(a.useEffect)(function(){fetch("/api/get-all-sports").then(function(e){return e.json()}).then(function(t){t.push({eventType:{id:"TC-7",name:"Horse Racing - Today's Card"}}),t.push({eventType:{id:"TC-4339",name:"Greyhound Racing - Today's Card"}}),t.sort(function(e,t){var n=e.eventType.name.toLowerCase(),a=t.eventType.name.toLowerCase();return n<a?-1:n>a?1:0}),e.onReceiveAllSports(t)})},[]);var t=function(){var t=Object(ae.a)(ne.a.mark(function t(n,a,r,o){var c,i,l,s,u,d,m,p,f,b,g=arguments;return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=g.length>4&&void 0!==g[4]?g[4]:"",i=g.length>5&&void 0!==g[5]?g[5]:"",l=g.length>6&&void 0!==g[6]?g[6]:"",s=g.length>7&&void 0!==g[7]?g[7]:"",u=g.length>8&&void 0!==g[8]?g[8]:function(e){return e},d=g.length>9&&void 0!==g[9]?g[9]:function(e){return e},e.sports.currentSport[a]!==n){t.next=12;break}return(m=Object.assign({},e.sports.currentSport))[a]=void 0,m[r]=void 0,e.onUpdateCurrentSport(m),t.abrupt("return");case 12:return t.next=14,fetch("/api/".concat(o,"?sportId=").concat(c,"&&winMarketsOnly=").concat(e.winMarketsOnly,"&&country=").concat(i,"&&competitionId=").concat(l,"&&eventId=").concat(s));case 14:return p=t.sent,t.next=17,p.json();case 17:return f=t.sent,(b=Object.assign({},e.sports.currentSport))[a]=n,b[r]=d(u(f)),e.onUpdateCurrentSport(b),t.abrupt("return",f);case 23:case"end":return t.stop()}},t)}));return function(e,n,a,r){return t.apply(this,arguments)}}(),n=function(t,n,a,r,o,c){var i={id:n,name:a,sportId:r,type:o,country:c};fetch("/api/".concat("add"==t?"save-market":"remove-market"),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(t){e.onUpdateMyMarkets(t)}).catch(function(e){})},o=e.sports.currentSport,c=o.currentSportId,i=o.sportCountries,l=o.currentCountry,s=o.countryCompetitions,u=o.currentCompetition,d=o.competitionEvents,m=o.currentEvent,p=o.eventMarkets;return r.a.createElement("div",null,r.a.createElement("table",{id:"all-sports"},r.a.createElement("tbody",null,r.a.createElement(ct.a,null,void 0!==m&&void 0!==p&&p.length>0?r.a.createElement(gt,{currentSportId:c,name:m.name,markets:p.sort(function(e,t){return e.marketName.localeCompare(t.marketName)}),handleClick:t,event:m,myMarkets:e.myMarkets,updateMyMarkets:n}):void 0!==l&&void 0!==d&&d.length>0&&void 0===m?r.a.createElement(bt,{currentSportId:c,currentCompetition:u,currentCountry:l,competitionEvents:d.sort(function(e,t){return Date.parse(e.openDate)-Date.parse(t.openDate)||e.name.localeCompare(t.name)}),handleClick:t,myMarkets:e.myMarkets,updateMyMarkets:n}):void 0!==l&&void 0!==s&&s.length>0&&void 0===m?r.a.createElement(ft,{currentCountry:l,competitions:s,handleClick:t,currentSportId:c,myMarkets:e.myMarkets,updateMyMarkets:n}):r.a.createElement(mt,{sports:e.sports,currentSportId:c,countries:i,handleClick:t,myMarkets:e.myMarkets,updateMyMarkets:n})))))}),kt=function(){var e=Object(a.useState)([]),t=Object(K.a)(e,2),n=t[0],o=t[1];Object(a.useEffect)(function(){fetch("/api/get-events-with-active-bets").then(function(e){return e.json()}).then(function(e){o(e)})},[]);return r.a.createElement(ct.a,null,n.map(function(e){return r.a.createElement(it.a,{button:!0,onClick:function(t){return window.open("/dashboard?marketId=".concat(e.marketId))}},r.a.createElement(lt.a,null,e.marketName))}))},ht=n(479),vt=n(458),Ot=Object(Ce.a)({root:{border:"1px solid #fff",boxShadow:"none","&:not(:last-child)":{borderBottom:0},backgroundColor:"#fff",color:"orange",fontWeight:"900",fontSize:"0.8em",display:"block"},expanded:{}})(ht.a),St=Object(Ce.a)({root:{zIndex:"1"},expanded:{}})(vt.a),Tt=function(){var e=Object(a.useState)("my_markets"),t=Object(K.a)(e,2),n=t[0],o=t[1],c=De(),i=function(e){return function(t,n){o(!!n&&e)}},l=function(e){return r.a.createElement(St,{"aria-controls":"panel1a-content",id:"panel1a-header"},s(e))},s=function(e,t){return r.a.createElement(Pe.a,{className:c.appBar,position:t||"absolute"},r.a.createElement(X.a,{variant:"h6",className:c.title},e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ot,{expanded:"my_markets"===n,onChange:i("my_markets")},l("My Markets"),r.a.createElement(yt,null)),r.a.createElement(Ot,{expanded:"all_sports"===n,onChange:i("all_sports")},l("All Sports"),r.a.createElement(Et,null)),r.a.createElement(Ot,{expanded:"active_bets"===n,onChange:i("active_bets")},l("Active Bets"),r.a.createElement(kt,null)))},Lt=Object(J.a)(function(e){return{appBar:{background:"#303030",color:"orange",fontWeight:"900",border:"2px solid #fff"},title:{textAlign:"center",fontWeight:"bold"},group:{margin:e.spacing(1,0)}}}),Ct=Object(i.b)(function(e){return{marketOpen:e.market.marketOpen,market:e.market.currentMarket,ladder:e.market.ladder,runners:e.market.runners,excludedLadders:e.market.excludedLadders,ladderOrder:e.market.ladderOrder}},function(e){return{onChangeExcluded:function(t){return e(ye(t))}}})(function(e){var t=Lt();return r.a.createElement("div",null,r.a.createElement(Pe.a,{className:t.appBar,position:"static"},r.a.createElement(X.a,{variant:"h6",className:t.title},"Ladders")),e.marketOpen?r.a.createElement("table",{id:"menu-ladder"},r.a.createElement("tbody",null,Object.values(e.ladderOrder).map(function(t){var n=function(e){if(void 0===e)return{};var t={ltp:null,color:"#FFFFFF"};return e.ltp&&e.ltp[0]&&(t.ltp=e.ltp[0],t.color=e.ltp[0]<e.ltp[1]?"#0AFD03":e.ltp[0]>e.ltp[1]?"#FC0700":"#FFFF00"),t.atb=e.atb&&e.atb[0]?e.atb[0][0]:null,t.atl=e.atl&&e.atl[0]?e.atl[0][0]:null,t}(e.ladder[t]),a=n.atb,o=n.atl,c=n.ltp,i=n.color;return r.a.createElement("tr",null,r.a.createElement("td",null,e.runners[t].runnerName),r.a.createElement("td",null,o),r.a.createElement("td",{style:{background:i}},c),r.a.createElement("td",null,a),r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",checked:-1===e.excludedLadders.indexOf(t),onClick:function(){-1===e.excludedLadders.indexOf(t)?e.onChangeExcluded(e.excludedLadders.concat(t)):e.onChangeExcluded(e.excludedLadders.filter(function(e){return e!==t}))}})))}))):null)}),It=n(462),jt=n(463),xt=n(460),_t=n(461),Nt=n(146),wt=n(457),At=n(477),Bt=n(478),Rt=n(449),Mt=n(473),Ft=n(459),Pt=Object(Ce.a)(function(e){return{root:{fontSize:"x-small",display:"flex",marginRight:"-4px",marginTop:"-15%",marginBottom:"-15%","&:focus":{"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}})(Ft.a),Dt=n(229),Ut=Object(Ce.a)({paper:{border:"1px solid #d3d4d5"}})(function(e){return r.a.createElement(Dt.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))}),Kt=Array(100).fill().map(function(e,t){return parseFloat((t/100+1.01).toFixed(2))}).concat(Array(50).fill().map(function(e,t){return parseFloat((t/50+2.02).toFixed(2))})).concat(Array(20).fill().map(function(e,t){return parseFloat((t/20+3.05).toFixed(2))})).concat(Array(20).fill().map(function(e,t){return parseFloat((t/10+4.1).toFixed(1))})).concat(Array(20).fill().map(function(e,t){return parseFloat((t/5+6.2).toFixed(1))})).concat(Array(19).fill().map(function(e,t){return parseFloat((t/2+10.5).toFixed(1))})).concat(Array(11).fill().map(function(e,t){return parseFloat((t+20).toFixed(0))})).concat(Array(10).fill().map(function(e,t){return parseFloat((2*t+32).toFixed(0))})).concat(Array(10).fill().map(function(e,t){return parseFloat((5*t+55).toFixed(0))})).concat(Array(90).fill().map(function(e,t){return parseFloat((10*t+110).toFixed(0))})),Gt=function(e){return(Math.round(100*e)/100).toFixed(2)},zt=function(e){switch(e=parseFloat(e),!0){case e<4:return e.toFixed(2);case e<20:return e.toFixed(1);case e>=20:return e.toFixed(0);default:return e.toFixed(2)}},Yt=function(e,t){if(!t)return{back:0,lay:0};var n,a=function(e){var t=Kt.indexOf(e);return{lay:Kt.slice(t+1,t+6).map(function(e,t){return Gt(e)}),back:Kt.slice(t-5,t).map(function(e,t){return Gt(e)})}}(t),r=0,o=0;for(n=0;n<a.back.length;n++){var c=e[a.back[n]];r+=c&&c.backMatched?c.backMatched:0}for(n=0;n<a.lay.length;n++){var i=e[a.lay[n]];o+=i&&i.layMatched?i.layMatched:0}var l=r+o,s=Math.round(r/l*100),u=Math.round(o/l*100);return{back:s||0,lay:u||0}},Ht=function(e){return{backProfit:null,backMatched:null,odds:e,layMatched:null,layProfit:null}},Wt=n(24),Vt=n.n(Wt),Xt=Object(J.a)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:75},group:{margin:e.spacing(1,0)},formControlLabel:{fontSize:"0.6rem","& label":{fontSize:"0.6rem"}},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},backPriceTextFields:{width:75,marginLeft:e.spacing(1),marginRight:e.spacing(1)},select:{margin:e.spacing(1)}}}),Jt=Object(i.b)(function(e){return{operator:e.stopEntry.operator,ticks:e.stopEntry.ticks,stake:e.stopEntry.stake,price:e.stopEntry.price,runners:e.market.runners,side:e.stopEntry.side,stopEntryList:e.stopEntry.list,market:e.market.currentMarket,selections:e.stopEntry.selections}},function(e){return{onReceiveOperator:function(t){return e(function(e){return{type:"SET_STOP_ENTRY_OPERATOR",payload:e}}(t))},onReceiveTicks:function(t){return e(function(e){return{type:"SET_STOP_ENTRY_TICKS",payload:e}}(t))},onReceiveStake:function(t){return e(function(e){return{type:"SET_STOP_ENTRY_STAKE",payload:e}}(t))},onReceivePrice:function(t){return e(function(e){return{type:"SET_STOP_ENTRY_PRICE",payload:e}}(t))},onRecieveSide:function(t){return e(function(e){return{type:"SET_STOP_ENTRY_SIDE",payload:e}}(t))},onUpdateStopEntryList:function(t){return e(Oe(t))},onSelection:function(t){return e(function(e){return{type:"SET_STOP_ENTRY_SELECTIONS",payload:e}}(t))}}})(function(e){var t=Xt(),n=a.useState(null),r=Object(K.a)(n,2),o=r[0],c=r[1],i=a.useState(1),l=Object(K.a)(i,2);l[0],l[1];a.useEffect(function(){e.onSelection(Object.keys(e.runners).map(function(t){return[e.runners[t].selectionId]}))},[]);var s=function(t,n){e.onSelection(n),c(null)},u=function(){var t=Object(ae.a)(ne.a.mark(function t(){var n,a;return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="string"==typeof e.selections?[e.selections]:e.selections,a=Object.assign({},e.stopEntryList),t.next=4,Promise.all(n.map(function(){var t=Object(ae.a)(ne.a.mark(function t(n){var r,o,c;return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Vt.a.randomBytes(15).toString("hex").substring(0,15),o=parseInt(n),c={strategy:"Stop Entry",marketId:e.market.marketId,selectionId:o,targetLTP:e.ticks,stopEntryCondition:e.operator,side:e.side,size:e.stake,price:zt(e.price),rfs:r},t.next=5,fetch("/api/save-order",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(c)}).then(function(){void 0===a[o]?a[o]=[c]:a[o]=a[o].concat(c)});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 4:e.onUpdateStopEntryList(a);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return a.createElement("div",{className:t.root},a.createElement(ct.a,{component:"nav","aria-label":"Device settings"},a.createElement(it.a,{button:!0,"aria-haspopup":"true","aria-controls":"lock-menu","aria-label":"Selections",onClick:function(e){c(e.currentTarget)}},a.createElement(lt.a,{primary:"Runners",secondary:e.selections?"string"===typeof e.selections?e.runners[e.selections].runnerName:"All / The Field":""}))),a.createElement(Ut,{id:"lock-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){c(null)}},e.runners?a.createElement(Pt,{key:"stop-loss-order-all/field",className:t.root,selected:"string"!=typeof e.selections,onClick:function(t){return s(0,Object.keys(e.runners).map(function(t){return[e.runners[t].selectionId]}))}},"All / The Field"):null,Object.keys(e.runners).map(function(n){return a.createElement(Pt,{key:"stop-entry-order-".concat(e.runners[n].runnerName),className:t.root,selected:n===e.selections,onClick:function(e){return s(0,n)}},e.runners[n].runnerName)})),a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a.createElement(Rt.a,{variant:"outlined",className:t.formControl},a.createElement(Bt.a,null,"LTP"),a.createElement(Mt.a,{native:!0,className:t.select,value:e.operator,onChange:function(t){return e.onReceiveOperator(t.target.value)},input:a.createElement(At.a,{name:"age"})},a.createElement("option",{value:""}),a.createElement("option",{value:"<"},"<"),a.createElement("option",{value:"="},"="),a.createElement("option",{value:">"},">"))),a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"Ticks",value:e.ticks,inputProps:{min:"1",max:"100"},onChange:function(t){return e.onReceiveTicks(t.target.value)},margin:"normal"})),a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a.createElement(H.a,{id:"standard-number",className:t.backPriceTextFields,type:"number",label:"Back",value:e.stake,inputProps:{min:"1"},onChange:function(t){return e.onReceiveStake(t.target.value)},margin:"normal"}),a.createElement(H.a,{id:"standard-number",className:t.backPriceTextFields,type:"number",label:"@",value:e.price,inputProps:{min:"1"},onChange:function(t){return e.onReceivePrice(t.target.value)},margin:"normal"})),a.createElement(z.a,{variant:"outlined",color:"primary",className:t.button,onClick:function(){u()}},"Submit"))}),qt=n(475),Zt=n(480),$t=Object(J.a)(function(e){return{root:{width:"100%",maxWidth:360,height:"50px",backgroundColor:e.palette.background.paper},group:{margin:e.spacing(1,0)},formControlLabel:{fontSize:"0.6rem","& label":{fontSize:"0.6rem"}},textField:{marginRight:e.spacing(2),width:50}}}),Qt=Object(i.b)(function(e){return{text:e.stopLoss.text,offset:e.stopLoss.offset,units:e.stopLoss.units,trailing:e.stopLoss.trailing,hedged:e.stopLoss.hedged,runners:e.market.runners,selections:e.stopLoss.selections}},function(e){return{onTextUpdate:function(t){return e(function(e){return{type:"SET_STOP_LOSS_TEXT",payload:e}}(t))},onReceiveOffset:function(t){return e(function(e){return{type:"SET_STOP_LOSS_OFFSET",payload:e}}(t))},onReceiveUnit:function(t){return e(function(e){return{type:"SET_STOP_LOSS_UNITS",payload:e}}(t))},onToggleTrailing:function(t){return e(function(e){return{type:"TOGGLE_STOP_LOSS_TRAILING",payload:e}}(t))},onToggleHedged:function(t){return e(function(e){return{type:"TOGGLE_STOP_LOSS_HEDGED",payload:e}}(t))},onSelection:function(t){return e(function(e){return{type:"SET_STOP_LOSS_SELECTIONS",payload:e}}(t))}}})(function(e){var t=$t(),n=a.useState(null),r=Object(K.a)(n,2),o=r[0],c=r[1];a.useEffect(function(){var t=e.trailing?"x":"-",n=e.hedged?"x":"-",a="Percent"===e.units?"(%)":e.units;e.onTextUpdate("".concat(e.offset," ").concat(a," [").concat(t,"][").concat(n,"]"))},[e.offset,e.units,e.hedged,e.trailing]),a.useEffect(function(){e.onSelection(Object.keys(e.runners).map(function(t){return[e.runners[t].selectionId]}))},[]);var i=function(t,n){e.onSelection(n),c(null)};return a.createElement(a.Fragment,null,a.createElement(ct.a,{component:"nav","aria-label":"Device settings"},a.createElement(it.a,{button:!0,"aria-haspopup":"true","aria-controls":"lock-menu","aria-label":"Selections",onClick:function(e){c(e.currentTarget)}},a.createElement(lt.a,{primary:"Runners",secondary:e.selections?"string"===typeof e.selections?e.runners[e.selections].runnerName:"All / The Field":""}))),a.createElement(Ut,{id:"lock-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){c(null)}},e.runners?a.createElement(Pt,{key:"stop-loss-order-all/field",className:t.root,selected:"string"!=typeof e.selections,onClick:function(t){return i(0,Object.keys(e.runners).map(function(t){return[e.runners[t].selectionId]}))}},"All / The Field"):null,Object.keys(e.runners).map(function(n){return a.createElement(Pt,{key:"stop-loss-order-".concat(e.runners[n].runnerName),className:t.root,selected:n===e.selections,onClick:function(e){return i(0,n)}},e.runners[n].runnerName)})),a.createElement(Zt.a,{"aria-label":"stoploss",name:"stoploss",className:t.group,value:e.units,onChange:function(t){return e.onReceiveUnit(t.target.value)}},a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",value:e.offset,inputProps:{min:"1",max:"100"},onChange:function(t){return e.onReceiveOffset(t.target.value)},margin:"normal"}),a.createElement(W.a,{value:"Ticks",className:t.formControlLabel,control:a.createElement(qt.a,{color:"primary",Radio:!0}),label:a.createElement("span",null,"Tick")}),a.createElement(W.a,{value:"Percent",control:a.createElement(qt.a,{color:"primary"}),label:"%"}))),a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a.createElement(W.a,{control:a.createElement(V.a,{color:"primary",checked:e.trailing,onChange:function(t){return e.onToggleTrailing(t.target.checked)}}),label:"Trailing"}),a.createElement(W.a,{control:a.createElement(V.a,{color:"primary",checked:e.hedged,onChange:function(t){return e.onToggleHedged(t.target.checked)}}),label:"Hedged"})))}),en=Object(J.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(5),width:75}}}),tn=Object(i.b)(function(e){return{text:e.tickOffset.text,ticks:e.tickOffset.ticks,unit:e.tickOffset.units,percentTrigger:e.tickOffset.percentTrigger,hedged:e.tickOffset.hedged}},function(e){return{onTextUpdate:function(t){return e(function(e){return{type:"SET_TICK_OFFSET_TEXT",payload:e}}(t))},onReceiveTicks:function(t){return e(function(e){return{type:"SET_TICK_OFFSET_TICKS",payload:e}}(t))},onReceiveUnit:function(t){return e(function(e){return{type:"SET_TICK_OFFSET_UNIT",payload:e}}(t))},onReceivePercentTrigger:function(t){return e(function(e){return{type:"SET_TICK_OFFSET_PERCENT_TRIGGER",payload:e}}(t))},onReceiveHedged:function(t){return e(function(e){return{type:"TOGGLE_TICK_OFFSET_HEDGED",payload:e}}(t))}}})(function(e){var t=en();return a.useEffect(function(){var t="Percent"===e.unit?"%":e.unit,n="(".concat(e.percentTrigger,"%)");e.onTextUpdate("".concat(e.ticks," ").concat(t," ").concat(n," [").concat(e.hedged?"x":"-","]"))},[e.ticks,e.unit,e.percentTrigger,e.hedged]),a.createElement(a.Fragment,null,a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a.createElement(H.a,{id:"standard-number",type:"number",label:"Ticks",className:t.textField,value:e.ticks,inputProps:{min:"1",max:"100"},onChange:function(t){return e.onReceiveTicks(t.target.value)},margin:"normal"}),a.createElement(Zt.a,{"aria-label":"tickoffset",name:"tickoffset",value:e.unit,onChange:function(t){return e.onReceiveUnit(t.target.value)}},a.createElement(W.a,{className:t.formControlLabel,value:"Ticks",control:a.createElement(qt.a,{color:"primary"}),label:"Ticks"}),a.createElement(W.a,{value:"Percent",control:a.createElement(qt.a,{color:"primary"}),label:"%"}))),a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"% Trigger",value:e.percentTrigger,inputProps:{min:"1",max:"100"},onChange:function(t){return e.onReceivePercentTrigger(t.target.value)},margin:"normal"}),a.createElement(W.a,{control:a.createElement(V.a,{color:"primary",checked:e.hedged,onChange:function(t){return e.onReceiveHedged(t.target.checked)}}),label:"Hedged"})))}),nn=Object(J.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},button:{margin:e.spacing(2)},textField:{width:40,margin:e.spacing(1)},textField2:{width:30,margin:e.spacing(2)}}}),an=Object(i.b)(function(e){return{text:e.back.text,stake:e.back.stake,price:e.back.price,hours:e.back.offset.hours,minutes:e.back.offset.minutes,seconds:e.back.offset.seconds,executionTime:e.back.executionTime,runners:e.market.runners,market:e.market.currentMarket,selections:e.back.selections,list:e.back.list}},function(e){return{onTextUpdate:function(t){return e(function(e){return{type:"SET_BACK_TEXT",payload:e}}(t))},onReceiveStake:function(t){return e(function(e){return{type:"SET_BACK_STAKE",payload:e}}(t))},onReceivePrice:function(t){return e(function(e){return{type:"SET_BACK_PRICE",payload:e}}(t))},onReceiveHours:function(t){return e(function(e){return{type:"SET_BACK_HOURS",payload:e}}(t))},onReceiveMinutes:function(t){return e(function(e){return{type:"SET_BACK_MINUTES",payload:e}}(t))},onReceiveSeconds:function(t){return e(function(e){return{type:"SET_BACK_SECONDS",payload:e}}(t))},onToggleExecutionTime:function(t){return e({type:"TOGGLE_BACK_EXECUTION_BEFORE_OR_AFTER",payload:t})},onSelection:function(t){return e(function(e){return{type:"SET_BACK_SELECTIONS",payload:e}}(t))},onUpdateBackList:function(t){return e(et(t))}}})(function(e){var t=nn(),n=a.useState(null),r=Object(K.a)(n,2),o=r[0],c=r[1];a.useEffect(function(){e.onTextUpdate("".concat(e.stake," @ ").concat(e.price))},[e.price,e.stake]),a.useEffect(function(){e.onSelection(Object.keys(e.runners).map(function(t){return[e.runners[t].selectionId]}))},[]);var i=function(t,n){e.onSelection(n),c(null)},l=function(){var t=Object(ae.a)(ne.a.mark(function t(){var n,a;return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="string"==typeof e.selections?[e.selections]:e.selections,a=Object.assign({},e.list),t.next=4,Promise.all(n.map(function(){var t=Object(ae.a)(ne.a.mark(function t(n,r){var o,c,i;return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=Vt.a.randomBytes(15).toString("hex").substring(0,15),c=parseInt(n),i={strategy:"Back",marketId:e.market.marketId,selectionId:c,executionTime:e.executionTime,timeOffset:3600*e.hours+60*e.minutes+parseInt(e.seconds),size:e.stake,price:zt(e.price),rfs:o},t.next=5,fetch("/api/save-order",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(i)}).then(function(){void 0===a[c]?a[c]=[i]:a[c]=a[c].concat(i)});case 5:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 4:e.onUpdateBackList(a);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return a.createElement(a.Fragment,null,a.createElement(ct.a,{component:"nav","aria-label":"Device settings"},a.createElement(it.a,{button:!0,"aria-haspopup":"true","aria-controls":"lock-menu","aria-label":"Selections",onClick:function(e){c(e.currentTarget)}},a.createElement(lt.a,{primary:"Back",secondary:e.selections?"string"===typeof e.selections?e.runners[e.selections].runnerName:"Back All / The Field":""}))),a.createElement(Ut,{id:"lock-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){c(null)}},e.runners?a.createElement(Pt,{key:"back-order-all/field",className:t.root,selected:"string"!=typeof e.selections,onClick:function(t){return i(0,Object.keys(e.runners).map(function(t){return[e.runners[t].selectionId]}))}},"Back All / The Field"):null,Object.keys(e.runners).map(function(n){return a.createElement(Pt,{key:"back-order-".concat(e.runners[n].runnerName),className:t.root,selected:n===e.selections,onClick:function(e){return i(0,n)}},e.runners[n].runnerName)})),a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"stake",value:e.stake,inputProps:{min:"1"},onChange:function(t){return e.onReceiveStake(t.target.value)},margin:"normal"}),a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"@",value:e.price,inputProps:{min:"1"},onChange:function(t){return e.onReceivePrice(t.target.value)},margin:"normal"}),a.createElement(z.a,{variant:"outlined",color:"primary",size:"small",className:t.button,onClick:function(e){return l()}},"Submit")),a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a.createElement(H.a,{id:"standard-number",className:t.textField2,type:"number",label:"hh",value:e.hours,inputProps:{min:"0"},onChange:function(t){return e.onReceiveHours(t.target.value)},margin:"normal"}),a.createElement(H.a,{id:"standard-number",className:t.textField2,type:"number",label:"mm",value:e.minutes,inputProps:{min:"0",max:"59"},onChange:function(t){return e.onReceiveMinutes(t.target.value)},margin:"normal"}),a.createElement(H.a,{id:"standard-number",className:t.textField2,type:"number",label:"ss",value:e.seconds,inputProps:{min:"0",max:"59"},onChange:function(t){return e.onReceiveSeconds(t.target.value)},margin:"normal"}),a.createElement(Zt.a,{"aria-label":"orderexecution",name:"orderexecution",value:e.executionTime,onChange:function(t){return e.onToggleExecutionTime(t.target.value)}},a.createElement(W.a,{value:"Before",className:t.formControlLabel,control:a.createElement(qt.a,{color:"primary"}),label:a.createElement("span",null,"-")}),a.createElement(W.a,{value:"After",control:a.createElement(qt.a,{color:"primary"}),label:"+"}))))}),rn=Object(J.a)(function(e){return{button:{margin:e.spacing(2)},textField:{width:40,margin:e.spacing(1)},textField2:{width:30,margin:e.spacing(2)}}}),on=Object(i.b)(function(e){return{text:e.lay.text,stake:e.lay.stake,price:e.lay.price,hours:e.lay.offset.hours,minutes:e.lay.offset.minutes,seconds:e.lay.offset.seconds,executionTime:e.lay.executionTime,market:e.market.currentMarket,runners:e.market.runners,selections:e.lay.selections,list:e.lay.list}},function(e){return{onTextUpdate:function(t){return e(function(e){return{type:"SET_LAY_TEXT",payload:e}}(t))},onReceiveStake:function(t){return e(function(e){return{type:"SET_LAY_STAKE",payload:e}}(t))},onReceivePrice:function(t){return e(function(e){return{type:"SET_LAY_PRICE",payload:e}}(t))},onReceiveHours:function(t){return e(function(e){return{type:"SET_LAY_HOURS",payload:e}}(t))},onReceiveMinutes:function(t){return e(function(e){return{type:"SET_LAY_MINUTES",payload:e}}(t))},onReceiveSeconds:function(t){return e(function(e){return{type:"SET_LAY_SECONDS",payload:e}}(t))},onToggleExecutionTime:function(t){return e({type:"TOGGLE_LAY_EXECUTION_BEFORE_OR_AFTER",payload:t})},onSelection:function(t){return e(function(e){return{type:"SET_LAY_SELECTIONS",payload:e}}(t))},onUpdateLayList:function(t){return e(Qe(t))}}})(function(e){var t=rn(),n=a.useState(null),r=Object(K.a)(n,2),o=r[0],c=r[1];a.useEffect(function(){e.onTextUpdate("".concat(e.stake," @ ").concat(e.price))},[e.price,e.stake]),a.useEffect(function(){e.onSelection(Object.keys(e.runners).map(function(t){return[e.runners[t].selectionId]}))},[]);var i=function(t,n){e.onSelection(n),c(null)},l=function(){var t=Object(ae.a)(ne.a.mark(function t(){var n,a;return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="string"==typeof e.selections?[e.selections]:e.selections,a=Object.assign({},e.list),t.next=4,Promise.all(n.map(function(){var t=Object(ae.a)(ne.a.mark(function t(n,r){var o,c,i;return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=Vt.a.randomBytes(15).toString("hex").substring(0,15),c=parseInt(n),i={strategy:"Lay",marketId:e.market.marketId,selectionId:c,executionTime:e.executionTime,timeOffset:3600*e.hours+60*e.minutes+parseInt(e.seconds),size:e.stake,price:zt(e.price),rfs:o},t.next=5,fetch("/api/save-order",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(i)}).then(function(){void 0===a[c]?a[c]=[i]:a[c]=a[c].concat(i)});case 5:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 4:e.onUpdateLayList(a);case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return a.createElement(a.Fragment,null,a.createElement(ct.a,{component:"nav","aria-label":"Device settings"},a.createElement(it.a,{button:!0,"aria-haspopup":"true","aria-controls":"lock-menu","aria-label":"Selections",onClick:function(e){c(e.currentTarget)}},a.createElement(lt.a,{primary:"Lay",secondary:e.selections?"string"===typeof e.selections?e.runners[e.selections].runnerName:"Lay All / The Field":""}))),a.createElement(Ut,{id:"lock-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){c(null)}},e.runners?a.createElement(Pt,{key:"lay-order-all/field",className:t.root,selected:"string"!=typeof e.selections,onClick:function(t){return i(0,Object.keys(e.runners).map(function(t){return[e.runners[t].selectionId]}))}},"Lay All / The Field"):null,Object.keys(e.runners).map(function(n){return a.createElement(Pt,{key:"lay-order-".concat(e.runners[n].runnerName),className:t.root,selected:n===e.selections,onClick:function(e){return i(0,n)}},e.runners[n].runnerName)})),a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"stake",value:e.stake,inputProps:{min:"1"},onChange:function(t){return e.onReceiveStake(t.target.value)},margin:"normal"}),a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"@",value:e.price,inputProps:{min:"1"},onChange:function(t){return e.onReceivePrice(t.target.value)},margin:"normal"}),a.createElement(z.a,{variant:"outlined",color:"primary",className:t.button,onClick:function(e){return l()}},"Submit")),a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a.createElement(H.a,{id:"standard-number",className:t.textField2,type:"number",label:"hh",value:e.hours,inputProps:{min:"0"},onChange:function(t){return e.onReceiveHours(t.target.value)},margin:"normal"}),a.createElement(H.a,{id:"standard-number",className:t.textField2,type:"number",label:"mm",value:e.minutes,inputProps:{min:"0",max:"59"},onChange:function(t){return e.onReceiveMinutes(t.target.value)},margin:"normal"}),a.createElement(H.a,{id:"standard-number",className:t.textField2,type:"number",label:"ss",value:e.seconds,inputProps:{min:"0",max:"59"},onChange:function(t){return e.onReceiveSeconds(t.target.value)},margin:"normal"}),a.createElement(Zt.a,{"aria-label":"orderexecution",name:"orderexecution",value:e.executionTime,onChange:function(t){return e.onToggleExecutionTime(t.target.value)}},a.createElement(W.a,{value:"Before",className:t.formControlLabel,control:a.createElement(qt.a,{color:"primary"}),label:a.createElement("span",null,"-")}),a.createElement(W.a,{value:"After",control:a.createElement(qt.a,{color:"primary"}),label:"+"}))))}),cn=Object(J.a)(function(e){return{root:{display:"flex",flexDirection:"row"},number:{marginLeft:e.spacing(1),width:50}}}),ln=Object(i.b)(function(e){return{seconds:e.fillOrKill.seconds}},function(e){return{onTextUpdate:function(t){return e(function(e){return{type:"SET_FILL_OR_KILL_TEXT",payload:e}}(t))},onReceiveFillOrKill:function(t){return e(function(e){return{type:"SET_FILL_OR_KILL_TIME",payload:e}}(t))}}})(function(e){var t=cn();return a.useEffect(function(){e.onTextUpdate("".concat(e.seconds," seconds"))},[e.seconds]),a.createElement(a.Fragment,null,a.createElement("div",{className:t.root},a.createElement(H.a,{id:"standard-number",className:t.number,type:"number",label:"Seconds",value:e.seconds,inputProps:{min:"1",max:"100"},onChange:function(t){return e.onReceiveFillOrKill(t.target.value)},margin:"normal"})))}),sn=Object(Ce.a)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14,border:0}}})(xt.a),un=Object(Ce.a)(function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(_t.a);function dn(e,t,n,a,r,o,c,i){return{name:e,abbreviation:t,description:n,settings:a,isOpen:r,toggleExpand:o,selected:c,toggleSelected:i}}var mn=Object(J.a)(function(e){return{root:{width:"100%"},table:{}}}),pn=Object(i.b)(function(e){return{stopLossText:e.stopLoss.text,stopLossSelected:e.stopLoss.selected,tickOffsetText:e.tickOffset.text,tickOffsetSelected:e.tickOffset.selected,backText:e.back.text,backSelected:e.back.selected,layText:e.lay.text,laySelected:e.lay.selected,fillKillText:e.fillOrKill.text,fillKillSelected:e.fillOrKill.selected,stopEntrySelected:e.stopEntry.selected}},function(e){return{onStopEntrySelection:function(t){return e({type:"SET_STOP_ENTRY_SELECTED",payload:null})},onStopLossSelection:function(t){return e({type:"SET_STOP_LOSS_SELECTED",payload:null})},onTickOffsetSelection:function(t){return e({type:"SET_TICK_OFFSET_SELECTED",payload:null})},onBackSelection:function(t){return e({type:"SET_BACK_SELECTED",payload:null})},onLaySelection:function(t){return e({type:"SET_LAY_SELECTED",payload:null})},onFillOrKillSelection:function(t){return e({type:"SET_FILL_OR_KILL_SELECTED",payload:null})}}})(function(e){var t=mn(),n=Object(a.useState)(!1),o=Object(K.a)(n,2),c=o[0],i=o[1],l=Object(a.useState)(!1),s=Object(K.a)(l,2),u=s[0],d=s[1],m=Object(a.useState)(!1),p=Object(K.a)(m,2),f=p[0],b=p[1],g=Object(a.useState)(!1),y=Object(K.a)(g,2),E=y[0],k=y[1],h=Object(a.useState)(!1),v=Object(K.a)(h,2),O=v[0],S=v[1],T=Object(a.useState)(!1),L=Object(K.a)(T,2),C=L[0],I=L[1],j=[dn("Stop Loss","SL",e.stopLossText,r.a.createElement(Qt,null),c,i,e.stopLossSelected,e.onStopLossSelection),dn("Tick Offset","TO",e.tickOffsetText,r.a.createElement(tn,null),u,d,e.tickOffsetSelected,e.onTickOffsetSelection),dn("Back","B",e.backText,r.a.createElement(an,null),f,b,e.backSelected,e.onBackSelection),dn("Lay","L",e.layText,r.a.createElement(on,null),E,k,e.laySelected,e.onLaySelection),dn("Fill or Kill","FOK",e.fillKillText,r.a.createElement(ln,null),O,S,e.setFillOrKillSelected,e.onFillOrKillSelection),dn("Stop Entry","SE","",r.a.createElement(Jt,null),C,I,e.setStopEntrySelected,e.onStopEntrySelection)];return r.a.createElement(Nt.a,{className:t.root},r.a.createElement(It.a,{className:"".concat(t.table," order-settings-tbl")},r.a.createElement(jt.a,null,j.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(un,{key:e.name},r.a.createElement(sn,{scope:"row",colSpan:2},r.a.createElement("button",{className:"order-btn",onClick:function(t){return e.toggleExpand(!e.isOpen)}},r.a.createElement("div",{className:"box"},r.a.createElement("img",{alt:"Add",src:window.location.origin+"/icons/add-button-inside-black-circle.png"}),r.a.createElement("span",null,e.name)))),r.a.createElement(sn,{align:"left",colSpan:3},e.description),r.a.createElement(sn,{padding:"checkbox",colSpan:1},r.a.createElement(V.a,{color:"primary",checked:e.selected,onChange:function(t){e.toggleSelected()}}))),r.a.createElement(un,{key:e.abbreviation,className:"order-editable"},r.a.createElement(wt.a,{hidden:!e.isOpen,in:e.isOpen},r.a.createElement(sn,{colSpan:6},e.settings))))}))))}),fn=function(e,t,n,a,r,o){var c={};return c=bn(e,c),c=bn(t,c),c=bn(n,c),c=gn(a,c),c=gn(r,c),c=gn(o,c)},bn=function(e,t){var n=Object.assign({},t);return Object.keys(e).map(function(a){var r={};e[a].map(function(e){r[e.rfs]=void 0==r[e.rfs]?[e]:r[e.rfs].concat(e)}),n[a]=Object(l.a)({},t[a],r)}),n},gn=function(e,t){var n=Object.assign({},t);return Object.values(e).map(function(e){var a=void 0===t[e.selectionId]?{}:t[e.selectionId];void 0===a[e.rfs]?a[e.rfs]=[e]:a[e.rfs]=a[e.rfs].concat(e),n[e.selectionId]=a}),n},yn=Object(i.b)(function(e){return{marketOpen:e.market.marketOpen,market:e.market.currentMarket,stopLossList:e.stopLoss.list,tickOffsetList:e.tickOffset.list,stopEntryList:e.stopEntry.list,layList:e.lay.list,backList:e.back.list,fillOrKillList:e.fillOrKill.list,bets:e.order.bets}},function(e){return{onChangeOrders:function(t){return e(qe(t))},onChangeStopLossList:function(t){return e(he(t))},onChangeTickOffsetList:function(t){return e(ve(t))},onChangeStopEntryList:function(t){return e(Oe(t))},onChangeLayList:function(t){return e(Qe(t))},onChangeBackList:function(t){return e(et(t))},onChangeFillOrKillList:function(t){return e(tt(t))},onCancelOrder:function(t){return e($e(t))}}})(function(e){var t=fn(e.backList,e.layList,e.stopEntryList,e.tickOffsetList,e.stopLossList,e.bets.unmatched),n=Object.keys(t),a=function(t){return function(n){var a=[];switch(t.strategy){case"Back":var r=Object.assign({},e.backList);r[t.selectionId]=r[t.selectionId].filter(function(e){return e.rfs!==t.rfs}),e.onChangeBackList(r);break;case"Lay":var o=Object.assign({},e.layList);o[t.selectionId]=o[t.selectionId].filter(function(e){return e.rfs!==t.rfs}),e.onChangeLayList(o);break;case"Stop Entry":var c=Object.assign({},e.stopEntryList);c[t.selectionId]=c[t.selectionId].filter(function(e){return e.rfs!==t.rfs}),e.onChangeStopEntryList(c);break;case"Tick Offset":var i=Object.assign({},e.tickOffsetList);delete i[t.rfs],e.onChangeTickOffsetList(i);break;case"Stop Loss":var l=Object.assign({},e.stopLossList);delete l[t.selectionId],e.onChangeStopLossList(l);break;case"None":if(void 0!==e.fillOrKillList[t.betId]){var s=Object.assign({},e.fillOrKillList);a=a.concat(s[t.betId]),delete s[t.betId],e.onChangeFillOrKillList(s)}e.onCancelOrder({marketId:t.marketId,betId:t.betId,sizeReduction:null,matchedBets:e.bets.matched,unmatchedBets:e.bets.unmatched})}a=a.concat(t);try{fetch("/api/remove-orders",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(a)})}catch(n){}}};return r.a.createElement("div",null,r.a.createElement("table",{className:"menu-bets"},r.a.createElement("tbody",null,r.a.createElement("tr",{className:"menu-bets-heading"},r.a.createElement("button",{style:{height:"22px",width:"auto",backgroundColor:"transparent",visibility:"collapse",pointerEvents:"none"}}),r.a.createElement("td",null,"Odds"),r.a.createElement("td",null,"Stake"),r.a.createElement("td",null,"P/L")),r.a.createElement("tr",null,r.a.createElement("td",{className:"menu-bets-event",colSpan:4},void 0!==e.market.competition?e.market.marketName+" "+e.market.competition.name:null)),e.marketOpen?n.map(function(n){var o=e.market.runners.find(function(e){return e.selectionId==n});return void 0===o?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:"menu-bets-selection",colSpan:4},r.a.createElement("td",null,o.runnerName)),Object.values(t[n]).map(function(t){return t.map(function(t){var n="Back"==t.strategy||"Lay"==t.strategy?new Date(e.market.marketStartTime).valueOf()/1e3-(new Date).valueOf()/1e3:0,o="Back"==t.strategy||"Lay"==t.strategy?Math.floor((n-t.timeOffset)/60):0,c="Back"==t.strategy||"Lay"==t.strategy?Math.floor((n-t.timeOffset)%60):0,i="";t.trailing&&t.hedged?i="th":!t.trailing&&t.hedged?i="h":t.trailing&&!t.hedged&&(i="t");var l=("Stop Loss"==t.strategy?"SL ":"Tick Offset"==t.strategy?"T.O.":"Back"==t.strategy||"Lay"==t.strategy?o+":"+c+"s"+("Before"==t.executionTime?"-":"+"):"Stop Entry"==t.strategy?t.stopEntryCondition+zt(t.targetLTP)+"SE":Ge(t.size,t.price,"BACK"===t.side?0:1))+i;return r.a.createElement("tr",{id:"menu-unmatched-bet",style:{backgroundColor:"BACK"===t.side?"#FAC9D7":"#A6D8FF"}},r.a.createElement("button",{style:{height:"22px",width:"auto"},onClick:a(t)}),r.a.createElement("td",null,parseFloat(t.price).toFixed(2)),r.a.createElement("td",null,t.size),r.a.createElement("td",{id:"pl-style",style:{color:"0.00"===l?"black":l>0?"green":"red"}},l))})}))}):null)))}),En=Object(i.b)(function(e){return{marketOpen:e.market.marketOpen,market:e.market.currentMarket,bets:e.order.bets}},function(e){return{}})(function(e){var t=Object.values(e.bets.matched).reduce(function(e,t){return-1===e.indexOf(t.selectionId)?e.concat(t.selectionId):e},[]);return r.a.createElement("div",null,r.a.createElement("table",{className:"menu-bets"},r.a.createElement("tbody",null,r.a.createElement("tr",{className:"menu-bets-heading"},r.a.createElement("td",null,r.a.createElement("button",{style:{height:"22px",width:"auto",backgroundColor:"transparent",visibility:"collapse",pointerEvents:"none"}})),r.a.createElement("td",null,"Odds"),r.a.createElement("td",null,"Stake"),r.a.createElement("td",null,"P/L")),r.a.createElement("tr",null,r.a.createElement("td",{className:"menu-bets-event",colSpan:4},void 0!==e.market.competition?e.market.marketName+" "+e.market.competition.name:null)),e.marketOpen?t.map(function(t){var n=e.market.runners.find(function(e){return e.selectionId===t});if(void 0===n)return null;var a=Object.values(e.bets.matched).filter(function(e){return e.selectionId===t});return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:"menu-bets-selection",colSpan:4},r.a.createElement("td",null,n.runnerName)),a.map(function(e){var t=Ge(e.size,e.price,"BACK"===e.side?0:1);return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{id:"menu-matched-bet",style:{backgroundColor:"BACK"===e.side?"#A6D8FF":"#FAC9D7"}},r.a.createElement("td",null,r.a.createElement("button",{style:{height:"22px",width:"auto",visibility:"collapse"}})),r.a.createElement("td",null,parseFloat(e.price).toFixed(2)),r.a.createElement("td",null,e.size),r.a.createElement("td",{id:"pl-style",style:{color:"0.00"===t?"black":t>0?"green":"red"}},t)))}))}):null)))}),kn=Object(i.b)(function(e){return{market:e.market.currentMarket,marketOpen:e.market.marketOpen,selection:e.market.runnerSelection}},function(e){return{onOpenGraph:function(){return e({type:"OPEN_GRAPH",payload:null})}}})(function(e){var t=Object(a.useState)(null),n=Object(K.a)(t,2),o=n[0],c=n[1];return Object(a.useEffect)(function(){if(e.marketOpen&&e.selection){var t=e.market.marketId.slice(2,e.market.marketId.length),n="https://sportsiteexweb.betfair.com/betting/LoadRunnerInfoChartAction.do?marketId=".concat(t,"&selectionId=").concat(e.selection.selectionId,"&handicap=0");c(n)}},[e.selection,e.market.marketId,e.marketOpen]),r.a.createElement("div",{id:"menu-graph"},o?r.a.createElement("img",{alt:"Chart",src:o,onDoubleClick:function(t){e.onOpenGraph()}}):null)}),hn=Object(i.b)(function(e){return{market:e.market.currentMarket,marketOpen:e.market.marketOpen,selection:e.market.runnerSelection}})(function(e){var t=function(e,t){return{name:e,description:t}};return r.a.createElement("table",{id:"menu-market-info"},r.a.createElement("tbody",null,e.marketOpen&&e.market.eventType&&"7"===e.market.eventType.id?r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,"".concat(e.selection.metadata.CLOTH_NUMBER,".").concat(e.selection.runnerName))),[t("Selection",e.selection.metadata.runnerId),t("Silk",r.a.createElement("img",{src:"https://content-cache.cdnbf.net/feeds_images/Horses/SilkColours/".concat(e.selection.metadata.COLOURS_FILENAME),alt:""})),t("Trainer Name",e.selection.metadata.TRAINER_NAME),t("Age & Weight","".concat(e.selection.metadata.AGE," years / ").concat(e.selection.metadata.WEIGHT_VALUE," ").concat(e.selection.metadata.WEIGHT_UNITS)),t("Form",e.selection.metadata.FORM),t("Days Since Last Run",e.selection.metadata.DAYS_SINCE_LAST_RUN),t("Jockey's Claim",e.selection.metadata.JOCKEY_CLAIM),t("Wearing Equipment",e.selection.metadata.COLOURS_DESCRIPTION),t("Saddle Cloth Number",e.selection.metadata.CLOTH_NUMBER),t("Stall Draw",e.selection.metadata.STALL_DRAW),t("Owner Name",e.selection.metadata.OWNER_NAME),t("Jockey Name",e.selection.metadata.JOCKEY_NAME),t("Colour of Horse",e.selection.metadata.COLOUR_TYPE),t("Gender",e.selection.metadata.SEX_TYPE),t("Forecast Price","".concat(e.selection.metadata.FORECASTPRICE_NUMERATOR,"/").concat(e.selection.metadata.FORECASTPRICE_DENOMINATOR)),t("Official Rating",e.selection.metadata.OFFICIAL_RATING)].map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,e.name)),r.a.createElement("tr",null,r.a.createElement("td",null,e.description)))})):null))}),vn=n(219),On=n.n(vn),Sn=Object(i.b)(function(e){return{market:e.market.currentMarket,marketOpen:e.market.marketOpen,selection:e.market.runnerSelection}})(function(e){var t=Object(a.useState)(null),n=Object(K.a)(t,2),o=n[0],c=n[1];return Object(a.useEffect)(function(){e.market.description&&c(e.market.description.rules)},[e.market]),r.a.createElement("div",null,o?On()(o.toString()):null)}),Tn=Object(J.a)(function(e){return{appBar:{background:"#303030",color:"orange",fontWeight:"900",border:"2px solid #fff",zIndex:"1"},title:{textAlign:"center",fontWeight:"bold"},group:{margin:e.spacing(1,0)}}}),Ln=Object(i.b)(function(e){return{tools:e.settings.tools,unmatchedBets:e.settings.unmatchedBets,matchedBets:e.settings.matchedBets,profitAndLoss:e.settings.profitAndLoss,graphs:e.settings.graphs,marketInfo:e.settings.marketInfo,rules:e.settings.rules}})(function(e){var t=Tn(),n=function(e,n){return r.a.createElement(Pe.a,{className:t.appBar,position:n||"absolute"},r.a.createElement(X.a,{variant:"h6",className:t.title},e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct,null),e.tools.visible?r.a.createElement(r.a.Fragment,null,n("Tools","static"),r.a.createElement(pn,null)):null,e.unmatchedBets.visible?r.a.createElement(r.a.Fragment,null,n("Unmatched Bets","static"),r.a.createElement(yn,null)):null,e.matchedBets.visible?r.a.createElement(r.a.Fragment,null,n("Matched Bets","static"),r.a.createElement(En,null)):null,e.graphs.visible?r.a.createElement(r.a.Fragment,null,n("Graphs","static"),r.a.createElement(kn,null)):null,e.marketInfo.visible?r.a.createElement(r.a.Fragment,null,n("Market Information","static"),r.a.createElement(hn,null)):null,e.rules.visible?r.a.createElement(r.a.Fragment,null,n("Rules","static"),r.a.createElement(Sn,null)):null)}),Cn=function(e){var t=e.receiveTrainingBalance,n=e.styles;return r.a.createElement("div",null,r.a.createElement(Pe.a,{className:n.appBar,position:"static"},r.a.createElement(X.a,{variant:"h6",className:n.title},"Training Bank")),r.a.createElement(H.a,{id:"standard-name",label:"Bank Balance",margin:"normal",onChange:function(e){return t(e)}}))},In=Object(J.a)(function(e){return{appBar:{background:"#303030",color:"orange",fontWeight:"900",border:"2px solid #fff"},title:{textAlign:"center",fontWeight:"bold"},group:{margin:e.spacing(1,0)},textField:{width:50,margin:e.spacing(2)}}}),jn=Object(i.b)(function(e){return{trainingBalance:e.settings.trainingBalance,sounds:e.settings.sounds,tools:e.settings.tools,unmatchedBets:e.settings.unmatchedBets,matchedBets:e.settings.matchedBets,graphs:e.settings.graphs,marketInfo:e.settings.marketInfo,winMarketsOnly:e.settings.winMarketsOnly,rules:e.settings.rules,trainingLadderAutoCenter:e.settings.trainingLadderAutoCenter,ladderUnmatched:e.settings.ladderUnmatched,stakeBtns:e.settings.stakeBtns,layBtns:e.settings.layBtns}},function(e){return{onReceiveTrainingBalance:function(t){return e(function(e){return{type:"SET_TRAINING_BALANCE",payload:e}}(t))},onToggleSounds:function(t){return e(ce(t))},onToggleTools:function(t){return e(ie(t))},onToggleUnmatchedBets:function(t){return e(le(t))},onToggleMatchedBets:function(t){return e(se(t))},onToggleGraph:function(t){return e(ue(t))},onToggleMarketInformation:function(t){return e(de(t))},onUpdateWinMarketsOnly:function(t){return e(me(t))},onToggleRules:function(t){return e(pe(t))},onToggleTrainingLadderAutoCenter:function(t){return e({type:"TOGGLE_TRAINING_LADDER_AUTO_CENTER",payload:t})},onToggleLadderUnmatched:function(t){return e(fe(t))},onUpdateStakeBtn:function(t){return e(function(e){return{type:"UPDATE_STAKE_BUTTON",payload:e}}(t))},onUpdateLayBtn:function(t){return e(function(e){return{type:"UPDATE_LAY_BUTTON",payload:e}}(t))}}})(function(e){var t=In(),n=function(e){fetch("/api/save-user-settings",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)})};return r.a.createElement("div",null,r.a.createElement(Cn,{receiveTrainingBalance:function(t){return e.onReceiveTrainingBalance(t)},styles:t}),r.a.createElement(Pe.a,{className:t.appBar,position:"static"},r.a.createElement(X.a,{variant:"h6",className:t.title},"Sound")),r.a.createElement(W.a,{control:r.a.createElement(V.a,{value:"checkedB",color:"primary",checked:e.sounds,onChange:function(t){return e.onToggleSounds(!e.sounds)}}),label:"Sounds"}),r.a.createElement("button",{className:"save-btn",onClick:function(t){return n({"settings.sounds":e.sounds})}},r.a.createElement("img",{alt:"Save",src:window.location.origin+"/icons/save.png"})),r.a.createElement(Pe.a,{className:t.appBar,position:"static"},r.a.createElement(X.a,{variant:"h6",className:t.title},"Tools")),r.a.createElement(W.a,{control:r.a.createElement(V.a,{value:"checkedB",color:"primary",checked:e.tools.visible,onChange:function(t){return e.onToggleTools({visible:!e.tools.visible,open:e.tools.open})}}),label:"Show Panel"}),r.a.createElement("button",{className:"save-btn",onClick:function(t){return n({"settings.tools":{visible:e.tools.visible,open:e.tools.open}})}},r.a.createElement("img",{alt:"Save",src:window.location.origin+"/icons/save.png"})),r.a.createElement(W.a,{control:r.a.createElement(V.a,{value:"checkedB",color:"primary",checked:e.tools.open,onChange:function(t){return e.onToggleTools({visible:e.tools.visible,open:!e.tools.open})}}),label:"Panel Open"}),r.a.createElement(Pe.a,{className:t.appBar,position:"static"},r.a.createElement(X.a,{variant:"h6",className:t.title},"Unmatched Bets")),r.a.createElement(W.a,{control:r.a.createElement(V.a,{value:"checkedB",color:"primary",checked:e.unmatchedBets.visible,onChange:function(t){return e.onToggleUnmatchedBets({visible:!e.unmatchedBets.visible,open:e.unmatchedBets.open})}}),label:"Show Panel"}),r.a.createElement("button",{className:"save-btn",onClick:function(t){return n({"settings.unmatchedBets":{visible:e.unmatchedBets.visible,open:e.unmatchedBets.open}})}},r.a.createElement("img",{alt:"Save",src:window.location.origin+"/icons/save.png"})),r.a.createElement(W.a,{control:r.a.createElement(V.a,{value:"checkedB",color:"primary",checked:e.unmatchedBets.open,onChange:function(t){return e.onToggleUnmatchedBets({visible:e.unmatchedBets.visible,open:!e.unmatchedBets.open})}}),label:"Panel Open"}),r.a.createElement(Pe.a,{className:t.appBar,position:"static"},r.a.createElement(X.a,{variant:"h6",className:t.title},"Matched Bets")),r.a.createElement(W.a,{control:r.a.createElement(V.a,{value:"checkedB",color:"primary",checked:e.matchedBets.visible,onChange:function(t){return e.onToggleMatchedBets({visible:!e.matchedBets.visible,open:e.matchedBets.open})}}),label:"Show Panel"}),r.a.createElement("button",{className:"save-btn",onClick:function(t){return n({"settings.matchedBets":{visible:e.matchedBets.visible,open:e.matchedBets.open}})}},r.a.createElement("img",{alt:"Save",src:window.location.origin+"/icons/save.png"})),r.a.createElement(W.a,{control:r.a.createElement(V.a,{value:"checkedB",color:"primary",checked:e.matchedBets.open,onChange:function(t){return e.onToggleMatchedBets({visible:e.matchedBets.visible,open:!e.matchedBets.open})}}),label:"Panel Open"}),r.a.createElement(Pe.a,{className:t.appBar,position:"static"},r.a.createElement(X.a,{variant:"h6",className:t.title},"Graphs")),r.a.createElement(W.a,{control:r.a.createElement(V.a,{value:"checkedB",color:"primary",checked:e.graphs.visible,onChange:function(t){return e.onToggleGraph({visible:!e.graphs.visible,open:e.graphs.open})}}),label:"Show Panel"}),r.a.createElement("button",{className:"save-btn",onClick:function(t){return n({"settings.graphs":{visible:e.graphs.visible,open:e.graphs.open}})}},r.a.createElement("img",{alt:"Save",src:window.location.origin+"/icons/save.png"})),r.a.createElement(W.a,{control:r.a.createElement(V.a,{value:"checkedB",color:"primary",checked:e.graphs.open,onChange:function(t){return e.onToggleGraph({visible:e.graphs.visible,open:!e.graphs.open})}}),label:"Panel Open"}),r.a.createElement(Pe.a,{className:t.appBar,position:"static"},r.a.createElement(X.a,{variant:"h6",className:t.title},"Market Information")),r.a.createElement(W.a,{control:r.a.createElement(V.a,{value:"checkedB",color:"primary",checked:e.marketInfo.visible,onChange:function(t){return e.onToggleMarketInformation({visible:!e.marketInfo.visible,open:e.marketInfo.open})}}),label:"Show Panel"}),r.a.createElement("button",{className:"save-btn",onClick:function(t){return n({"settings.marketInfo":{visible:e.marketInfo.visible,open:e.marketInfo.open}})}},r.a.createElement("img",{alt:"Save",src:window.location.origin+"/icons/save.png"})),r.a.createElement(W.a,{control:r.a.createElement(V.a,{value:"checkedB",color:"primary",checked:e.marketInfo.open,onChange:function(t){return e.onToggleMarketInformation({visible:e.marketInfo.visible,open:!e.marketInfo.open})}}),label:"Panel Open"}),r.a.createElement(Pe.a,{className:t.appBar,position:"static"},r.a.createElement(X.a,{variant:"h6",className:t.title},"Win Markets")),r.a.createElement(W.a,{control:r.a.createElement(V.a,{value:"checkedB",color:"primary",checked:e.winMarketsOnly,onChange:function(t){return e.onUpdateWinMarketsOnly(!e.winMarketsOnly)}}),label:"Win Markets Only"}),r.a.createElement("button",{className:"save-btn",onClick:function(t){return n({"settings.winMarketsOnly":e.winMarketsOnly})}},r.a.createElement("img",{alt:"Save",src:window.location.origin+"/icons/save.png"})),r.a.createElement(Pe.a,{className:t.appBar,position:"static"},r.a.createElement(X.a,{variant:"h6",className:t.title},"Rules")),r.a.createElement(W.a,{control:r.a.createElement(V.a,{value:"checkedB",color:"primary",checked:e.rules.visible,onChange:function(t){return e.onToggleRules({visible:!e.rules.visible,open:e.rules.open})}}),label:"Show Panel"}),r.a.createElement("button",{className:"save-btn",onClick:function(t){return n({"settings.rules":{visible:e.rules.visible,open:e.rules.open}})}},r.a.createElement("img",{alt:"Save",src:window.location.origin+"/icons/save.png"})),r.a.createElement(W.a,{control:r.a.createElement(V.a,{value:"checkedB",color:"primary",checked:e.rules.open,onChange:function(t){return e.onToggleRules({visible:e.rules.visible,open:!e.rules.open})}}),label:"Panel Open"}),r.a.createElement(Pe.a,{className:t.appBar,position:"static"},r.a.createElement(X.a,{variant:"h6",className:t.title},"Training Ladder Auto-Center")),r.a.createElement(W.a,{control:r.a.createElement(V.a,{value:"checkedB",color:"primary",checked:e.trainingLadderAutoCenter,onChange:function(t){return e.onToggleTrainingLadderAutoCenter(!e.trainingLadderAutoCenter)}}),label:"Default to ON"}),r.a.createElement("button",{className:"save-btn",onClick:function(t){return n({"settings.trainingLadderAutoCenter":e.trainingLadderAutoCenter})}},r.a.createElement("img",{alt:"Save",src:window.location.origin+"/icons/save.png"})),r.a.createElement(Pe.a,{className:t.appBar,position:"static"},r.a.createElement(X.a,{variant:"h6",className:t.title},"Ladder Unmatched Column")),r.a.createElement("button",{className:"save-btn",onClick:function(t){return n({"settings.ladderUnmatched":e.ladderUnmatched})}},r.a.createElement("img",{alt:"Save",src:window.location.origin+"/icons/save.png"})),r.a.createElement(Zt.a,{"aria-label":"gender",name:"gender2",className:t.group,value:e.ladderUnmatched,onChange:function(t){e.onToggleLadderUnmatched(t.target.value)}},r.a.createElement(W.a,{value:"blank",control:r.a.createElement(qt.a,{color:"primary"}),label:"Unmatched Bets Only",labelPlacement:"end"}),r.a.createElement(W.a,{value:"pl",control:r.a.createElement(qt.a,{color:"primary"}),label:"Unmatched Bets + P/L",labelPlacement:"end"}),r.a.createElement(W.a,{value:"hedged",control:r.a.createElement(qt.a,{color:"primary"}),label:"Unmatched Bets + Hedge",labelPlacement:"end"})),r.a.createElement(Pe.a,{className:t.appBar,position:"static"},r.a.createElement(X.a,{variant:"h6",className:t.title},"Stake Button")),r.a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"One",value:"".concat(e.stakeBtns[0]),inputProps:{min:"1"},onChange:function(t){var n=parseInt(t.target.value);n&&"number"===typeof n&&e.onUpdateStakeBtn({id:0,value:t.target.value})},margin:"normal"}),r.a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"Two",value:"".concat(e.stakeBtns[1]),inputProps:{min:"1"},onChange:function(t){var n=parseInt(t.target.value);n&&"number"===typeof n&&e.onUpdateStakeBtn({id:1,value:t.target.value})},margin:"normal"}),r.a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"Three",value:"".concat(e.stakeBtns[2]),inputProps:{min:"1"},onChange:function(t){var n=parseInt(t.target.value);n&&"number"===typeof n&&e.onUpdateStakeBtn({id:2,value:t.target.value})},margin:"normal"}),r.a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"Four",value:"".concat(e.stakeBtns[3]),inputProps:{min:"1"},onChange:function(t){var n=parseInt(t.target.value);n&&"number"===typeof n&&e.onUpdateStakeBtn({id:3,value:t.target.value})},margin:"normal"}),r.a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"Five",value:"".concat(e.stakeBtns[4]),inputProps:{min:"1"},onChange:function(t){var n=parseInt(t.target.value);n&&"number"===typeof n&&e.onUpdateStakeBtn({id:4,value:t.target.value})},margin:"normal"}),r.a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"Six",value:"".concat(e.stakeBtns[5]),inputProps:{min:"1"},onChange:function(t){var n=parseInt(t.target.value);n&&"number"===typeof n&&e.onUpdateStakeBtn({id:5,value:t.target.value})},margin:"normal"}),r.a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"Seven",value:"".concat(e.stakeBtns[6]),inputProps:{min:"1"},onChange:function(t){var n=parseInt(t.target.value);n&&"number"===typeof n&&e.onUpdateStakeBtn({id:6,value:t.target.value})},margin:"normal"}),r.a.createElement("button",{className:"save-btn",onClick:function(t){return n({"settings.stakeBtns":e.stakeBtns})}},r.a.createElement("img",{alt:"Save",src:window.location.origin+"/icons/save.png"})),r.a.createElement(Pe.a,{className:t.appBar,position:"static"},r.a.createElement(X.a,{variant:"h6",className:t.title},"Liability Button")),r.a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"One",value:"".concat(e.layBtns[0]),inputProps:{min:"1"},onChange:function(t){var n=parseInt(t.target.value);n&&"number"===typeof n&&e.onUpdateLayBtn({id:0,value:t.target.value})},margin:"normal"}),r.a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"Two",value:"".concat(e.layBtns[1]),inputProps:{min:"1"},onChange:function(t){var n=parseInt(t.target.value);n&&"number"===typeof n&&e.onUpdateLayBtn({id:1,value:t.target.value})},margin:"normal"}),r.a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"Three",value:"".concat(e.layBtns[2]),inputProps:{min:"1"},onChange:function(t){var n=parseInt(t.target.value);n&&"number"===typeof n&&e.onUpdateLayBtn({id:2,value:t.target.value})},margin:"normal"}),r.a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"Four",value:"".concat(e.layBtns[3]),inputProps:{min:"1"},onChange:function(t){var n=parseInt(t.target.value);n&&"number"===typeof n&&e.onUpdateLayBtn({id:3,value:t.target.value})},margin:"normal"}),r.a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"Five",value:"".concat(e.layBtns[4]),inputProps:{min:"1"},onChange:function(t){var n=parseInt(t.target.value);n&&"number"===typeof n&&e.onUpdateLayBtn({id:4,value:t.target.value})},margin:"normal"}),r.a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"Six",value:"".concat(e.layBtns[5]),inputProps:{min:"1"},onChange:function(t){var n=parseInt(t.target.value);n&&"number"===typeof n&&e.onUpdateLayBtn({id:5,value:t.target.value})},margin:"normal"}),r.a.createElement(H.a,{id:"standard-number",className:t.textField,type:"number",label:"Seven",value:"".concat(e.layBtns[6]),inputProps:{min:"1"},onChange:function(t){var n=parseInt(t.target.value);n&&"number"===typeof n&&e.onUpdateLayBtn({id:6,value:t.target.value})},margin:"normal"}),r.a.createElement("button",{className:"save-btn",onClick:function(t){return n({"settings.layBtns":e.layBtns})}},r.a.createElement("img",{alt:"Save",src:window.location.origin+"/icons/save.png"})))}),xn=Object(Ce.a)({root:{boxShadow:"none",textTransform:"none",fontSize:16,padding:"6px 12px",border:"1px solid",lineHeight:1.5,color:"#fff",backgroundColor:"#232323",borderColor:"#fff",fontWeight:"bold",fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{backgroundColor:"#403E3E",borderColor:"#0062cc"},"&:active":{boxShadow:"none",backgroundColor:"#33AD33",borderColor:"#005cbf"},"&:focus":{boxShadow:"0 0 0 0.2rem rgba(0,123,255,.5)"}}})(z.a),_n=Object(Ie.a)({palette:{primary:xe.a}}),Nn=Object(i.b)(function(e){return{view:e.settings.view,fullscreen:e.settings.fullscreen}})(function(e){var t=Object(a.useState)(2),n=Object(K.a)(t,2),o=n[0],c=n[1],i=function(e,t){return r.a.createElement(je.a,{theme:_n},r.a.createElement(xn,{variant:"contained",color:"primary",style:o===t?{background:"#389C41"}:{},onClick:function(e){c(t)},className:"toggle-button"},e))};return r.a.createElement(Le.a,{className:"sidebar",variant:"permanent",classes:{paper:"sidebar"},anchor:"left"},r.a.createElement("div",{className:"sticky",style:{zIndex:"2"}},e.fullscreen?null:r.a.createElement(Me,null),r.a.createElement(Fe,null),r.a.createElement(ot,null),r.a.createElement("div",{id:"toggle-buttons"},i("Menu",1),i("Market",2),i("Settings",3))),function(){switch(o){case 1:return r.a.createElement(Tt,null);case 2:return r.a.createElement(Ln,null);case 3:return r.a.createElement(jn,null);default:return null}}())}),wn=r.a.createContext(),An=n(467),Bn=n(481),Rn=function(e){var t=e.username,n=e.premiumMember,a=e.classes;return r.a.createElement(An.a,{container:!0,alignItems:"center"},r.a.createElement(An.a,{item:!0,xs:!0},r.a.createElement(X.a,{className:a.title,gutterBottom:!0,variant:"h4"},"Welcome to Trader Pro")),r.a.createElement(An.a,{item:!0,lg:!0},r.a.createElement(Bn.a,{className:a.username,color:"primary",label:"".concat(t," | Support ID 24442")}),r.a.createElement(Bn.a,{className:a.subscription,color:"#F44336",label:"Subscription: ".concat(n?"Active":"Expired")})))},Mn=Object(J.a)(function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},textMargin:{marginLeft:"10px",padding:"10px"},title:{marginLeft:"5px"},username:{marginLeft:"10px",background:"#000",color:"#fff"},subscription:function(e){return{background:e.subscribed?"#4CAF50":"#F44336",color:"#000"}},subheading:{margin:"10px 5px 10px 5px",padding:"10px"},premiumStatus:{margin:"10px 5px 10px 5px",fontWeight:"bold",textDecoration:"underline"},divider:{backgroundColor:"#000"}}}),Fn=function(e){var t=Object(Z.b)(["username"]),n=Object(K.a)(t,1)[0],o={subscribed:e.premiumMember},c=Object(a.useState)({}),i=Object(K.a)(c,2),l=i[0],s=i[1],u=Mn(o);return Object(a.useEffect)(function(){e.premiumMember?s({subscribed:"Active",information:" and you can now have full access to the Ladder View.",color:"#4CAF50"}):s({subscribed:"Inactive",information:" and you have restricted access to Trader Pro.",color:"#F44336"})},[e.premiumMember]),r.a.createElement("div",{id:"home-view-container",className:u.root},r.a.createElement("div",{className:u.section2,id:"home-view"},r.a.createElement(Rn,{username:n.username,premiumMember:e.premiumMember,classes:u}),r.a.createElement(ut.a,{className:u.divider,variant:"middle"}),r.a.createElement(An.a,{container:!0,alignItems:"center"},r.a.createElement(X.a,{className:u.subheading,style:{whiteSpace:"pre-wrap"},variant:"h5"},"Trader Pro Membership is ",r.a.createElement("span",{style:{color:l.color}},l.subscribed))),r.a.createElement(An.a,{container:!0,alignItems:"center"},r.a.createElement(X.a,{className:"".concat(u.premiumStatus," ").concat(u.textMargin),gutterBottom:!0,variant:"h6"},"Your Trader Pro Membership is ",r.a.createElement("span",null,l.subscribed)),r.a.createElement(X.a,{variant:"p"},l.information)),r.a.createElement(An.a,{container:!0,alignItems:"center"},r.a.createElement(X.a,{className:"".concat(u.textMargin),gutterBottom:!0,variant:"p"},"Contact us on ",r.a.createElement("a",{href:"malito:joshbetting30@yahoo.com"},"joshbetting30@yahoo.com")," if you experience any issues when using Trader Pro.")),r.a.createElement(ut.a,{className:u.divider,variant:"middle"})))},Pn=Object(i.b)(function(e){return{premiumMember:e.settings.premiumMember}})(function(e){return r.a.createElement(wn.Consumer,null,function(t){return r.a.createElement(Fn,Object.assign({},e,{socket:t}))})}),Dn=function(e){var t=e.isReferenceSet,n=e.order,a=e.containerRef,o=e.isMoving,c=e.isLadderDown,i=e.setIsReferenceSet,l=e.runners,s=e.ladderOrderList,u=e.swapLadders,d=e.setIsMoving,m=e.setLadderDown,p=e.children;return r.a.createElement("div",{className:"odds-table",style:{left:t?"".concat(n*a.current.clientWidth,"px"):"0px",visibility:t?"visible":"collapse",opacity:o?"0.7":"1.0",cursor:c?"move":"default"},ref:a,onLoad:function(e){i(!0)},onMouseMove:function(e){null!==a.current&&c&&Kn(e.movementX,e.clientX,t,a,n,l,s,u,d)},onMouseUp:function(e){null!==a.current&&c&&(m(!1),Un(a,n,d))},onMouseLeave:function(e){null!==a.current&&c&&(m(!1),Un(a,n,d))}},p)},Un=function(e,t,n){e.current.style.left="".concat(t*e.current.clientWidth,"px"),e.current.style["z-index"]=0,n(!1)},Kn=function(e,t,n,a,r,o,c,i,l){if(n){a.current.style.left="".concat(parseInt(a.current.style.left,10)+e,"px"),a.current.style["z-index"]=9999;var s={};for(var u in a.current.parentNode.childNodes)u!=r+1&&u!=r-1||(s[u]=a.current.parentNode.childNodes[u]);var d=a.current.offsetParent.scrollLeft+t-a.current.offsetParent.offsetLeft,m=function(e){var t=parseInt(s[e].style.left,10)+s[e].clientWidth/2;if(d>t&&r<e||d<t&&r>e){var n=Object.values(o).findIndex(function(e){return e.runnerName.replace(/[0-9.]*[.,\s]/g," ").trim()==a.current.children[0].children[0].childNodes[0].childNodes[1].data.replace(/[0-9.]*[.,\s]/g," ").trim()}),l=Object.keys(o)[n],u=Object.values(c).findIndex(function(e){return e==l});if(-1===u)return"break";var m=Object.values(o).findIndex(function(t){return t.runnerName.replace(/[0-9.]*[.,\s]/g," ").trim()==s[e].children[0].children[0].childNodes[0].childNodes[1].data.replace(/[0-9.]*[.,\s]/g," ").trim()}),p=Object.keys(o)[m],f=Object.values(c).findIndex(function(e){return e==p});return-1===f?"break":(i(u,f),s[e].style.left="".concat(r*a.current.clientWidth,"px"),"break")}};for(var p in s){if("break"===m(p))break}l(!0)}},Gn=function(e){switch(parseInt(e)){case 1:return window.location.origin+"/icons/football.png";case 2:return window.location.origin+"/icons/tennis-ball.png";case 3:return window.location.origin+"/icons/golf.png";case 4:return window.location.origin+"/icons/cricket.png";case 5:case 1477:return window.location.origin+"/icons/rugby-ball.png";case 6:return window.location.origin+"/icons/boxing.png";case 7:return window.location.origin+"/icons/horse-riding.png";case 8:return window.location.origin+"/icons/racing-flag.png";case 4339:return window.location.origin+"/icons/greyhound.png";case 6422:return window.location.origin+"/icons/billiard.png";case 7511:return window.location.origin+"/icons/baseball.png";case 7522:return window.location.origin+"/icons/basketball.png";case 27454571:return window.location.origin+"/icons/trophy.png";case 26420387:return window.location.origin+"/icons/martial-arts-couple-fight.png";default:return window.location.origin+"/images/baseball-player.png"}},zn=function(e){var t=e.selectionId,n=e.sportId,a=e.runner,o=e.runnerClick,c=e.setLadderDown,i=e.PL,l=e.ladderLTPHedge,s=e.newStake,u=e.oddsHovered,d=e.ordersOnMarket,m=("BACK"==u.side&&u.selectionId===t||"LAY"==u.side&&u.selectionId!==t?1:-1)*parseFloat(He(u.odds,2)+("BACK"==u.side&&u.selectionId===t||"LAY"==u.side&&u.selectionId!==t?1:-1)*parseFloat(i)).toFixed(2);return r.a.createElement("div",{className:"ladder-header"},r.a.createElement("div",null,r.a.createElement("h2",{className:"contender-name",onMouseDown:function(e){c(!0)}},r.a.createElement("img",{className:"contender-image",src:a.metadata.COLOURS_FILENAME&&7===parseInt(n)?"https://content-cache.cdnbf.net/feeds_images/Horses/SilkColours/".concat(a.metadata.COLOURS_FILENAME):Gn(n),alt:"Colours",onClick:o,onError:function(e){e.target.onerror=null,e.target.src=Gn(parseInt(n))}}),"".concat(a.metadata.CLOTH_NUMBER?a.metadata.CLOTH_NUMBER+". ":"").concat(a.runnerName)),r.a.createElement("div",{className:"contender-odds-container"},r.a.createElement("span",{className:"contender-odds",style:{visibility:d?"visible":"hidden",color:i>0?"rgb(106, 177, 79)":"red"}},i),r.a.createElement("span",{className:"contender-odds",style:{visibility:u.odds>0&&d?"visible":"hidden",color:m>0?"rgb(106, 177, 79)":"red"}},m))),r.a.createElement("div",null,r.a.createElement("span",{style:{visibility:0===l?"hidden":"visible",color:parseFloat(l).toFixed(2)>0?"rgb(106, 177, 79)":"red"}},parseFloat(l).toFixed(2)),r.a.createElement("span",{style:{visibility:0===s?"hidden":"visible",color:parseFloat(s).toFixed(2)>0?"rgb(106, 177, 79)":"red"}},parseFloat(s).toFixed(2))))},Yn=function(e){var t=e.ltp,n=e.tv,a=e.percent;return r.a.createElement("div",{className:"percentage-row"},r.a.createElement("div",{colSpan:3,className:"th"},n),r.a.createElement("div",{className:"th"}),r.a.createElement("div",{className:"th"},"".concat(a.back,"%")),r.a.createElement("div",{className:"th",style:{background:t[0]<t[1]?"#0AFD03":t[0]>t[1]?"#FC0700":"#FFFF00"}},t[0]),r.a.createElement("div",{className:"th"},"".concat(a.lay,"%")),r.a.createElement("div",{className:"th"}))},Hn=function(e,t){var n=!1;"#"==e[0]&&(e=e.slice(1),n=!0);var a=parseInt(e,16),r=(a>>16)+t;r>255?r=255:r<0&&(r=0);var o=(a>>8&255)+t;o>255?o=255:o<0&&(o=0);var c=(255&a)+t;return c>255?c=255:c<0&&(c=0),(n?"#":"")+(c|o<<8|r<<16).toString(16)},Wn=function(e,t,n,a){var r="STAKE"===e?"#DBEFFF":"#FEE9EE";return parseInt(t)===parseInt(n)?Hn(r,a):r},Vn=Object(i.b)(function(e){return{buttonType:e.market.priceType,stake:e.settings.stakeBtns,lay:e.settings.layBtns,stakeVal:e.settings.stake}},function(e){return{onSetStake:function(t){return e(be(t))}}})(function(e){var t=e.selectionId,n=(e.ltp,e.tv,e.buttonType),o=e.stake,c=e.lay,i=e.stakeVal,l=e.onSetStake,s="STAKE"===n?o:c,u=Array.isArray(s)?s:Object.values(s);return Object(a.useEffect)(function(){void 0==i[t]&&l({selectionId:t,price:2})},[]),r.a.createElement("div",{className:"price-row"},r.a.createElement("div",{colspan:"8"},u.map(function(e){return r.a.createElement("th",{style:{background:Wn(n,parseFloat(e),i[t],-20)},onClick:function(n){return l({selectionId:t,price:parseFloat(e)})}},e)})))}),Xn=Object(i.b)(function(e){return{priceType:e.market.priceType,market:e.market.currentMarket,bets:e.order.bets,stopLossList:e.stopLoss.list,tickOffsetList:e.tickOffset.list,stopEntryList:e.stopEntry.list,layList:e.lay.list,backList:e.back.list,fillOrKillList:e.fillOrKill.list}},function(e){return{onChangePriceType:function(t){return function(n){return e(function(e){return{type:"SWITCH_PRICE_TYPE",payload:e}}(t))}}}})(function(e){var t=Object.values(e.bets.matched).filter(function(t){return parseFloat(t.selectionId)===parseFloat(e.selectionId)}),n=fn(e.backList,e.layList,e.stopEntryList,e.tickOffsetList,e.stopLossList,e.bets.unmatched)[e.selectionId],a=n?Object.values(n):[];return r.a.createElement("div",{className:"order-row"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("td",{colSpan:3,rowSpan:4,style:{verticalAlign:"top"}},r.a.createElement("table",{className:"lay-table"},r.a.createElement("tbody",{className:a.length>0?"lay-body":""},a.map(function(e){return e.map(function(e){var t="";e.trailing&&e.hedged?t="th":!e.trailing&&e.hedged?t="h":e.trailing&&!e.hedged&&(t="t");var n=("Stop Loss"==e.strategy?"SL ":"Tick Offset"===e.strategy?"T.O.":"Back"===e.strategy?"B":"Lay"===e.strategy?"L":"Stop Entry"===e.strategy?e.stopEntryCondition+zt(e.targetLTP)+"SE":Ge(e.size,e.price,"BACK"===e.side?0:1))+t;return r.a.createElement("tr",{style:{backgroundColor:"BACK"===e.side?"#A6D8FF":"#FAC9D7"}},r.a.createElement("td",null,"".concat(e.size," @ ").concat(e.price," ").concat(n)))})})))),r.a.createElement("td",{colSpan:1,rowSpan:4,style:{verticalAlign:"top",minHeight:"1.675em"}},r.a.createElement("button",null,"0"),r.a.createElement("button",{onClick:e.onChangePriceType("STAKE"===e.priceType?"LIABILITY":"STAKE")},"STAKE"===e.priceType?"S":"L"),r.a.createElement("button",null,"K")),r.a.createElement("td",{colSpan:3,rowSpan:4,style:{verticalAlign:"top"}},r.a.createElement("table",{className:"lay-table"},r.a.createElement("tbody",{className:t.length>0?"lay-body":""},t.map(function(e){return r.a.createElement("tr",{style:{backgroundColor:"BACK"===e.side?"#A6D8FF":"#FAC9D7"}},r.a.createElement("td",null,"".concat(e.size," @ ").concat(e.price)))})))))))}),Jn=n(220),qn=n(230),Zn=function(e,t,n){var a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Array(100).fill().map(function(e,t){return(t/100+1.01).toFixed(2)}).concat(Array(50).fill().map(function(e,t){return(t/50+2.02).toFixed(2)})).concat(Array(20).fill().map(function(e,t){return(t/20+3.05).toFixed(2)})).concat(Array(20).fill().map(function(e,t){return(t/10+4.1).toFixed(1)})).concat(Array(20).fill().map(function(e,t){return(t/5+6.2).toFixed(1)})).concat(Array(19).fill().map(function(e,t){return(t/2+10.5).toFixed(1)})).concat(Array(11).fill().map(function(e,t){return(t+20).toFixed(0)})).concat(Array(10).fill().map(function(e,t){return(2*t+32).toFixed(0)})).concat(Array(10).fill().map(function(e,t){return(5*t+55).toFixed(0)})).concat(Array(90).fill().map(function(e,t){return(10*t+110).toFixed(0)})),c=e;if(r){var i=parseFloat(e)*(1-n/100),l=o.sort(function(e,t){return Math.abs(i-e)-Math.abs(i-t)});return{priceReached:c=l[0]<l[1]?l[0]:l[2]}}if("back"===t)for(a=o.indexOf(e);a<=1e3&&(c=o[a],!(n--<=0||1e3===a));a++);else if("lay"===t)for(a=o.indexOf(e);a>=0&&(c=o[a],!(n--<=0||0===a));a--);return{priceReached:c}},$n=Object(i.b)(function(e){return{marketId:e.market.currentMarket.marketId,unmatchedBets:e.order.bets.unmatched,matchedBets:e.order.bets.matched,stopLossSelected:e.stopLoss.selected,stopLossList:e.stopLoss.list,stopLossUnits:e.stopLoss.units,stopLossHedged:e.stopLoss.hedged,tickOffsetList:e.tickOffset.list,tickOffsetSelected:e.tickOffset.selected,tickOffsetTicks:e.tickOffset.ticks,tickOffsetUnits:e.tickOffset.units,tickOffsetTrigger:e.tickOffset.percentTrigger,tickOffsetHedged:e.tickOffset.hedged,fillOrKillSelected:e.fillOrKill.selected,fillOrKillSeconds:e.fillOrKill.seconds,fillOrKillList:e.fillOrKill.list,stakeVal:e.settings.stake}},function(e){return{onChangeTickOffsetList:function(t){return e(ve(t))},onUpdateFillOrKillList:function(t){return e(tt(t))}}})(function(e){var t=e.side,n=e.cell,a=e.unmatchedBets,o=e.matchedBets,c=e.marketId,i=e.selectionId,l=e.placeOrder,s=e.isStopLoss,u=e.stopLossData,d=e.stopLossUnits,m=e.changeStopLossList,p=e.stopLossSelected,f=e.stopLossList,b=e.stopLossHedged,g=e.onChangeTickOffsetList,y=e.tickOffsetList,E=e.tickOffsetSelected,k=e.tickOffsetUnits,h=e.tickOffsetTicks,v=e.tickOffsetTrigger,O=e.tickOffsetHedged,S=e.fillOrKillSelected,T=e.fillOrKillSeconds,L=e.fillOrKillList,C=e.onUpdateFillOrKillList,I=e.hedgeSize,j=e.onHover,x=e.onLeave,_=e.stakeVal;return r.a.createElement("div",{className:"td",style:s?{background:"yellow"}:n.backMatched&&"BACK"===t?{background:"#F694AA"}:n.layMatched&&"LAY"===t?{background:"#75C2FD"}:null,onMouseEnter:j,onMouseLeave:x,onClick:function(){var e=Object(ae.a)(ne.a.mark(function e(r){var s;return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=Vt.a.randomBytes(15).toString("hex").substring(0,15),l({side:t,price:zt(n.odds),selectionId:i,customerStrategyRef:s,unmatchedBets:a,matchedBets:o,size:_[i],orderCompleteCallBack:function(){var e=Object(ae.a)(ne.a.mark(function e(a){var r,o,l,f;return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!p||void 0!==u){e.next=4;break}m({side:"BACK"===t?"LAY":"BACK",price:zt(n.odds),custom:!1,units:d,rfs:s,assignedIsOrderMatched:!1,size:_[i],betId:a,hedged:b}),e.next=11;break;case 4:if(!E){e.next=11;break}return r=Object.assign({},y),o={strategy:"Tick Offset",marketId:c,selectionId:i,price:Zn(zt(n.odds),t.toLowerCase(),h,"Percent"===k).priceReached,size:O?I:_[i],side:t,percentageTrigger:v,rfs:s,betId:a,hedged:O,minFillSize:S?O?I:_[i]:1},r[s]=o,e.next=10,fetch("/api/save-order",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(o)});case 10:g(r);case 11:if(p||!S){e.next=18;break}return l={strategy:"Fill Or Kill",marketId:c,selectionId:i,seconds:T,startTime:Date.now(),betId:a,rfs:s},(f=Object.assign({},L))[a]=l,e.next=17,fetch("/api/save-order",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(l)});case 17:C(f);case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),onContextMenu:function(){var e=Object(ae.a)(ne.a.mark(function e(a){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),void 0===f[i]){e.next=4;break}return e.next=4,fetch("/api/remove-orders",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify([f[i]])});case 4:return m({side:t,price:zt(n.odds),custom:!0,rfs:void 0,assignedIsOrderMatched:!1}),e.abrupt("return",!1);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},s?u.hedged?"H":u.size:n["".concat(t.toLowerCase(),"Matched")])}),Qn=function(e,t,n){e=parseFloat(e);var a=Math.floor(Kt.indexOf(e)+("back"===n?+t:-t));return parseFloat(Kt[a]).toFixed(2)},ea=function(e,t,n,a){var r;if(t=parseFloat(t),"back"===a)for(r=Kt.indexOf(t);r<=1e3;r++){if(Ue(e,t,Kt[r])>=n)return Kt[r].toFixed(2)}else if("lay"===a)for(r=Kt.indexOf(t);r>=0;r--){if(Ue(e,t,Kt[r])>=n)return Kt[r].toFixed(2)}return t.toFixed(2)},ta=function(e){var t=e.data,n=t.ladder,a=t.selectionId,o=t.placeOrder,c=t.ltp,i=t.ltpList,l=t.stopLoss,s=t.changeStopLossList,u=t.hedgeSize,d=t.setOddsHovered,m=t.volume,p=e.style,f=e.index,b=Object.keys(n)[f],g=i.findIndex(function(e){return e.tick==b}),y=m[zt(n[b].odds)]?m[zt(n[b].odds)]:0;return r.a.createElement("div",{key:n[b].odds,onContextMenu:function(e){return e.preventDefault(),!1},class:"tr",style:p},r.a.createElement("div",{className:"candle-stick-col td",colSpan:3},g>=0?r.a.createElement("img",{src:"".concat(window.location.origin,"/icons/").concat("R"===i[g].color?"red-candle.png":"green-candle.png"),className:"candle-stick",alt:"",style:{right:2*g}}):null,r.a.createElement("div",{className:"volume-col",style:{width:"".concat(10*y,"px")}},0===y?null:y)),r.a.createElement("div",{className:"td",style:{color:"".concat(n[b].backProfit>=0?"green":"red")},onClick:function(){var e=Vt.a.randomBytes(15).toString("hex").substring(0,15);u>0&&o({side:"BACK",price:zt(n[b].odds),selectionId:a,customerStrategyRef:e,size:u+parseFloat(n[b].backProfit)})}},n[b].backProfit),r.a.createElement($n,{side:"BACK",cell:n[b],selectionId:a,placeOrder:o,isStopLoss:void 0!==l&&"BACK"==l.side&&("Ticks"==l.units?Qn(l.price,l.tickOffset,l.side.toLowerCase())===b:ea(l.size,l.price,l.tickOffset,l.side.toLowerCase())===b),stopLossData:l,changeStopLossList:s,hedgeSize:u,onHover:function(){return d({selectionId:a,odds:n[b].odds,side:"BACK"})},onLeave:function(){return d({selectionId:a,odds:0,side:"BACK"})}}),r.a.createElement("div",{style:{background:b==c?"yellow":"#BBBBBB"},className:"td"},zt(n[b].odds)),r.a.createElement($n,{side:"LAY",cell:n[b],selectionId:a,placeOrder:o,isStopLoss:void 0!==l&&"LAY"==l.side&&("Ticks"==l.units?Qn(l.price,l.tickOffset,l.side.toLowerCase())===b:ea(l.size,l.price,l.tickOffset,l.side.toLowerCase())===b),stopLossData:l,changeStopLossList:s,hedgeSize:u,onHover:function(){return d({selectionId:a,odds:n[b].odds,side:"LAY"})},onLeave:function(){return d({selectionId:a,odds:0,side:"LAY"})}}),r.a.createElement("div",{className:"td",style:{color:"".concat(n[b].layProfit>=0?"green":"red")},onClick:function(){var e=Vt.a.randomBytes(15).toString("hex").substring(0,15);u>0&&o({side:"LAY",price:zt(n[b].odds),selectionId:a,customerStrategyRef:e,size:u+parseFloat(n[b].layProfit)})}},n[b].layProfit))},na=function(e,t,n){return Ke(Object.values(n.matched).filter(function(t){return t.marketId===e}).map(function(e){if(e.selectionId===t)switch(e.side){case"BACK":return He(e.price,e.size);case"LAY":return-He(e.price,e.size);default:return He(e.price,e.size)}else switch(e.side){case"BACK":return-e.size;case"LAY":return e.size;default:return-e.size}}).reduce(function(e,t){return e+t},0))},aa=function(e){var t=e.id,n=e.runners,o=e.ladder,c=e.market,i=e.onPlaceOrder,s=e.onSelectRunner,u=e.order,d=e.swapLadders,m=e.ladderOrderList,p=e.stopLoss,f=e.changeStopLossList,b=e.selectionMatchedBets,g=e.unmatchedBets,y=e.matchedBets,E=e.oddsHovered,k=e.setOddsHovered,h=e.volume,v=void 0===h?[]:h,O=e.ladderUnmatched,S=e.stake,T=Object(a.useRef)(null),L=Object(a.useRef)(),C=Object(a.useState)(!1),I=Object(K.a)(C,2),j=I[0],x=I[1],_=Object(a.useState)(!1),N=Object(K.a)(_,2),w=N[0],A=N[1],B=Object(a.useState)(!1),R=Object(K.a)(B,2),M=R[0],F=R[1],P=Object(a.useState)(!1),D=Object(K.a)(P,2),U=D[0],G=D[1];Object(a.useEffect)(function(){var e=setInterval(function(){var n=Object.keys(o[t].fullLadder).indexOf(parseFloat(o[t].ltp[0]).toFixed(2));null!==L.current&&-1!==n&&(L.current.scrollToItem(n,"center"),clearInterval(e),x(!0))},1e3)},[L]),Object(a.useEffect)(function(){var e=Object.keys(o[t].fullLadder).indexOf(parseFloat(o[t].ltp[0]).toFixed(2));void 0!==L.current&&L.current.scrollToItem(e,"center")},[u]);var z=void 0!==o[t]&&void 0!==o[t].ltp[0]?o[t].ltp.filter(function(e,t,n){return 0===t||e!==n[t-1]}):[],Y=z.map(function(e,t){return t===z.length-1?{tick:e,color:e>z[t-1]||0===t?"G":"R"}:{tick:e,color:e<z[t+1]?"R":"G"}}),H=void 0!==y?na(c.marketId,parseInt(t),{matched:y}).toFixed(2):0,W=function(e){i({marketId:c.marketId,side:e.side,size:e.size,price:e.price,selectionId:e.selectionId,customerStrategyRef:e.customerStrategyRef,orderCompleteCallBack:e.orderCompleteCallBack,unmatchedBets:g,matchedBets:y,minFillSize:e.minFillSize})},V=function(e){f({marketId:c.marketId,selectionId:parseInt(t),side:e.side,size:e.size,price:e.price,trailing:!1,customStopLoss:e.custom,units:e.units,rfs:e.rfs,assignedIsOrderMatched:e.assignedIsOrderMatched,betId:e.betId,hedged:e.hedged})},X={};v.map(function(e){X[zt(e.price)]=Math.floor(e.size/100)/10});var J={},q=0;Object.values(o[t].fullLadder).map(function(e){if(J[e.odds]=Object(l.a)({},e),void 0!==b&&"hedged"===O){var n=(-1*b.map(function(t){return("LAY"===t.side?-1:1)*Ve(parseFloat(t.size),parseFloat(t.price),parseFloat(e.odds))}).reduce(function(e,t){return e-t},0)).toFixed(2);parseFloat(e.odds).toFixed(2)==parseFloat(o[t].ltp[0]).toFixed(2)&&(q=n);var a=b.reduce(function(e,t){return e+Ge(t.size,t.price,"BACK"===t.side?0:1)},0)>0?"BACK":"LAY";J[e.odds]["BACK"==a?"backProfit":"layProfit"]=n}"pl"===O&&(J[e.odds].backProfit=parseFloat(Ge(parseFloat(S),e.odds,0))+parseFloat(H))});var Z=void 0!==b?b.reduce(function(e,t){return e+t.size},0):0,$=void 0!==b?b.reduce(function(e,t){return e+("LAY"===t.side?-parseFloat(t.size):parseFloat(t.size))},0)+parseFloat(q):0;return r.a.createElement(Dn,{isReferenceSet:w,order:u,containerRef:T,isMoving:M,isLadderDown:U,setIsReferenceSet:A,runners:n,ladderOrderList:m,swapLadders:d,setIsMoving:F,setLadderDown:G},r.a.createElement(zn,{sportId:c.eventType.id,selectionId:t,runner:n[t],runnerClick:s(n[t]),setLadderDown:G,PL:H,ladderLTPHedge:q,newStake:$,oddsHovered:E,ordersOnMarket:Object.keys(g).length+Object.keys(y).length>0}),r.a.createElement("div",{className:"ladder",onContextMenu:function(){return!1}},r.a.createElement(Yn,{ltp:o[t].ltp,tv:o[t].tv[0]?o[t].tv[0].toLocaleString():"",percent:o[t].percent}),r.a.createElement(Jn.a,null,function(e){var n=e.height,a=e.width;return r.a.createElement(qn.a,{className:"List",height:n,itemCount:Object.keys(o[t].fullLadder).length,itemSize:20,width:a,ref:L,style:{paddingRight:"".concat(j?L.current.offsetWidth-L.current.clientWidth:-17,"px")},itemData:{ladder:J,selectionId:t,placeOrder:W,ltp:o[t].ltp[0],ltpList:Y,stopLoss:p,changeStopLossList:V,hedgeSize:Z,setOddsHovered:k,volume:X}},ta)})),r.a.createElement(Vn,{selectionId:t}),r.a.createElement(Xn,{selectionId:t}))},ra=Object(i.b)(function(e){return{currentEvent:e.sports.currentSport.currentEvent,marketOpen:e.market.marketOpen,market:e.market.currentMarket,marketVolume:e.market.currentMarketVolume,runners:e.market.runners,ladder:e.market.ladder,excludedLadders:e.market.excludedLadders,ladderOrder:e.market.ladderOrder,bets:e.order.bets,stopLossList:e.stopLoss.list,stopLossSelected:e.stopLoss.selected,stopLossOffset:e.stopLoss.offset,stopLossUnits:e.stopLoss.ticks,stopLossTrailing:e.stopLoss.trailing,stopLossHedged:e.stopLoss.hedged,ladderUnmatched:e.settings.ladderUnmatched,stakeVal:e.settings.stake}},function(e){return{onSelectRunner:function(t){return function(n){return e(Ee(t))}},onPlaceOrder:function(t){return e(Ze(t))},onChangeLadderOrder:function(t){return e({type:"UPDATE_LADDER_ORDER",payload:t})},onChangeStopLossList:function(t){return e(he(t))}}})(function(e){var t=e.ladderOrder,n=e.ladder,o=e.onChangeLadderOrder,c=e.marketOpen,i=e.excludedLadders,s=e.runners,u=e.market,d=e.onPlaceOrder,m=e.onSelectRunner,p=e.stopLossList,f=e.stopLossOffset,b=e.stopLossTrailing,g=e.onChangeStopLossList,y=e.marketVolume,E=e.bets,k=e.ladderUnmatched,h=e.stakeVal,v=Object(a.useState)({selectionId:0,odds:0,side:"BACK"}),O=Object(K.a)(v,2),S=O[0],T=O[1];Object(a.useEffect)(function(){if(0===Object.keys(t).length&&Object.keys(n).length>0){var e={};Object.keys(n).map(function(t,n){e[n]=t}),o(e)}},[n]);var L={};Object.values(E.matched).map(function(e){void 0===L[e.selectionId]?L[e.selectionId]=[e]:L[e.selectionId]=L[e.selectionId].concat(e)});var C=function(e,n){var a=Object.assign({},t);a[e]=t[n],a[n]=t[e],o(a)};return r.a.createElement("div",{className:"ladder-container",onContextMenu:function(e){return e.preventDefault(),!1}},c&&n?Object.values(t).filter(function(e){return-1===i.indexOf(e)}).map(function(e,a){return r.a.createElement(aa,{runners:s,ladder:n,market:u,onPlaceOrder:d,onSelectRunner:m,id:e,key:e,order:a,ladderOrderList:t,stopLoss:p[e],selectionMatchedBets:L[e],unmatchedBets:E.unmatched,matchedBets:E.matched,setOddsHovered:T,oddsHovered:S,volume:y[e],ladderUnmatched:k,stake:h[e],changeStopLossList:function(){var e=Object(ae.a)(ne.a.mark(function e(t){var n,a;return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(l.a)({},t,{strategy:"Stop Loss",tickOffset:t.customStopLoss?0:f,trailing:!t.customStopLoss&&b}),(a=Object.assign({},p))[t.selectionId]=n,e.next=5,fetch("/api/save-order",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)});case 5:g(a);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),swapLadders:C})}):null)}),oa=n(221),ca=n.n(oa),ia=function(e,t,n){return r.a.createElement("div",{className:"in-play"},r.a.createElement("span",{className:"in-play"},e),r.a.createElement("img",{src:window.location.origin+t,alt:{alt:n}}))},la=function(e){return function(t){e.event&&window.open("https://videoplayer.betfair.com/GetPlayer.do?tr=1&mID=".concat(e.marketId,"&allowPopup=false"),e.event.name,"width=500,height=500")}},sa=function(e){var t=e.market,n=e.ladder,a=e.marketOpen,o=e.inPlay,c=e.status,i=e.country,l=e.oneClickRef,s=e.oneClickOn,u=e.toggleOneClick,d=e.oneClickStake,m=e.setStakeOneClick,p=e.stakeBtns,f=e.layBtns,b=e.bets,g=e.ltpList,y=e.onPlaceOrder,E=e.marketCashout;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{id:"grid-header"},r.a.createElement("th",{colSpan:"11"},r.a.createElement("button",{id:"one-click-btn",ref:l,onClick:u()},"Turn One click ".concat(s?"off":"on")),r.a.createElement("span",{className:"grid-video"}," ",r.a.createElement("img",{src:window.location.origin+"/icons/youtube.png",alt:"Video",onClick:la(t)})),r.a.createElement("h1",null,a?"".concat(new Date(t.marketStartTime).toLocaleTimeString()," ").concat(t.marketName," ").concat(t.event.venue||""):"No Event Selected"),s?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"one-click-stake"},r.a.createElement("button",null,"Stake"),p.map(function(e){return r.a.createElement("button",{style:{background:Wn("STAKE",e,d,-70)},onClick:m(e)},e)})),r.a.createElement("br",null),r.a.createElement("div",{id:"one-click-liability"},r.a.createElement("button",null,"Liability"),f.map(function(e){return r.a.createElement("button",{style:{background:Wn("LAY",e,d,-70)},onClick:m(e)},e)}))):null,function(e,t,n){if(!e)return null;if(n&&"CLOSED"!==t)return ia("Going in-play","/icons/checked.png","Active");switch(t){case"OPEN":return ia("Going in-play","/icons/inactive.png","Active");case"SUSPENDED":return ia("Not Going in-play","/icons/error.png","Suspended");default:return null}}(a,c,o),r.a.createElement("span",{id:"matched-bets"},a?"Matched: ".concat(Re(i.localeCode,i.currencyCode,function(e){var t=Object.keys(e).reduce(function(t,n){return t+parseFloat(e[n].tv[0]||0)},0);return t?Math.floor(t):""}(n))):null))),r.a.createElement("tr",{id:"grid-subheader"},r.a.createElement("th",{id:"market-cashout"},r.a.createElement("span",null,"Market Cashout"),r.a.createElement("span",{style:{color:E<0?"red":E>0?"#01CC41":"#D3D3D3"},onClick:function(){var e=Xe(t.marketId,b,g);if(e.length>0){!function n(a,r){var o=Vt.a.randomBytes(15).toString("hex").substring(0,15);y({marketId:t.marketId,side:e[a].side,size:e[a].stake,price:e[a].buyPrice,selectionId:e[a].selectionId,customerStrategyRef:o,unmatchedBets:r,matchedBets:b.matched,orderCompleteCallBack:function(e,t){return n(a+1,t)}})}(0,b.unmatched)}}},E)),r.a.createElement("th",{colSpan:"2"}),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null,r.a.createElement("span",null,"Back")),r.a.createElement("th",null,r.a.createElement("span",null,"Lay")),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null)))},ua=Object(i.b)(function(e){return{}},function(e){return{onSelectRunner:function(t){return e(Ee(t))},onPlaceOrder:function(t){return e(Ze(t))}}})(function(e){var t=Object.values(e.bets.matched).filter(function(t){return parseInt(t.selectionId)===parseInt(e.runner.selectionId)}),n=t.reduce(function(e,t){return e+Ge(t.size,t.price,"BACK"===t.side?0:1)},0)>0?"BACK":"LAY",a=void 0!==t?t.reduce(function(e,t){return e+t.size},0):0;return r.a.createElement("td",{className:"grid-runner-details",onClick:function(t){e.onSelectRunner(e.runner)}},r.a.createElement("img",{src:e.logo,alt:"",onError:function(t){t.target.onerror=null,t.target.src=Gn(parseInt(e.sportId))}}),r.a.createElement("span",null,"".concat(e.number).concat(e.name)),r.a.createElement("span",{style:{background:e.bg}},e.ltp[0]?e.ltp[0]:""),r.a.createElement("div",{className:"grid-pl"},r.a.createElement("span",{style:{color:Je(e.market.marketId,e.runner.selectionId,e.bets)?e.hedge<0?"red":"#01CC41":"#D3D3D3"},onClick:function(){if(Je(e.market.marketId,e.runner.selectionId,e.bets)){var t=Vt.a.randomBytes(15).toString("hex").substring(0,15);e.onPlaceOrder({marketId:e.market.marketId,side:n,size:a,price:e.ltp[0],selectionId:e.runner.selectionId,customerStrategyRef:t,unmatchedBets:e.bets.unmatched,matchedBets:e.bets.matched})}}},function(e,t,n){var a=Object.values(n.matched).filter(function(n){return n.marketId===e&&n.selectionId==t});return Object.values(a).length>0}(e.market.marketId,e.runner.selectionId,e.bets)?e.hedge:""),r.a.createElement("span",{style:{color:e.PL.color}},e.PL.val),r.a.createElement("span",null,e.tv[0]?Math.floor(e.tv[0]).toLocaleString():"")))}),da=function(){return r.a.createElement("td",{className:"grid-cell"})},ma=function(e){var t={ltp:e.ltp?e.ltp:[null,null],tv:e.tv?e.tv:null,color:"#FFFFFF"};return t.bg=t.ltp[0]<t.ltp[1]?"#0AFD03":t.ltp[0]>t.ltp[1]?"#FC0700":t.ltp[0]===t.ltp[1]?"#FFFF00":"#FFF",e.atb&&(t.atb=e.atb),e.atl&&(t.atl=e.atl),e.batb&&(t.batb=e.batb),e.batl&&(t.batl=e.batl),t},pa=function(e,t){return t=parseInt(t),{name:e.runnerName,number:e.metadata.CLOTH_NUMBER?e.metadata.CLOTH_NUMBER+". ":"",logo:e.metadata.COLOURS_FILENAME&&7===t?"https://content-cache.cdnbf.net/feeds_images/Horses/SilkColours/".concat(e.metadata.COLOURS_FILENAME):Gn(t),order:e.order}},fa=function(e){var t=e.sportId,n=e.name,a=e.number,o=e.logo,c=e.onSelectRunner;return r.a.createElement("td",{className:"grid-runner-details",onClick:c},r.a.createElement("img",{src:o,alt:"",onError:function(e){e.target.onerror=null,e.target.src=Gn(parseInt(t))}}),r.a.createElement("span",null,"".concat(a).concat(n)))},ba=function(e){var t=e.sportId,n=e.nonRunners,a=e.runners,o=e.selectRunner;return Object.keys(n).map(function(e){var n=pa(a[e],t).logo;return r.a.createElement("tr",{className:"grid-non-runner"},r.a.createElement(fa,{sportId:t,name:a[e].runnerName,number:a[e].metadata.CLOTH_NUMBER,logo:n,onSelectRunner:o(a[e])}),Array(10).fill(r.a.createElement("td",null)))})},ga=function(e){var t=e.ladder,n=e.runners,a=e.selectRunner,o=e.eventId;return Object.keys(t).map(function(e){var t=pa(n[e],o),c=t.name,i=t.number,l=t.logo;return r.a.createElement("tr",null,r.a.createElement(fa,{name:c,number:i,logo:l,onSelectRunner:a(n[e])}),Array(10).fill(r.a.createElement("td",null)))})},ya=function(e){var t=e.runnerId,n=e.order,a=e.orderProps,o=e.toggleStakeAndLiabilityButtons,c=e.toggleBackAndLay,i=e.updateOrderSize,l=e.updateOrderPrice,s=e.toggleOrderRowVisibility,u=e.onPlaceOrder,d=e.market,m=e.bets,p=e.price,f=e.side,b=e.size;return r.a.createElement("tr",{style:{background:a.bg}},n.visible?r.a.createElement("td",{colSpan:11},r.a.createElement("ul",{className:"grid-order-row"},r.a.createElement("li",{onClick:o({id:t})},r.a.createElement("img",{src:"".concat(window.location.origin,"/icons/change.png"),alt:"Toggle"}),a.text),a.prices.map(function(e){return r.a.createElement("li",{style:{background:e===n.stake?Hn(a.bg,-20):""},onClick:i({id:t,backLay:n.backLay,stake:e})},e)}),r.a.createElement("span",{className:"toggle-back-lay",onClick:c({id:t,backLay:1^n.backLay})},a.text2),r.a.createElement("input",{type:"text",name:"stake",value:n.stake,onChange:i({id:t,backLay:n.backLay})}),r.a.createElement("span",null,"@"),r.a.createElement("input",{type:"number",name:"price",min:"1",max:"1000",value:n.price,onChange:l({id:t})}),r.a.createElement("button",{className:"execute-order-btn",onClick:function(){var e=Vt.a.randomBytes(15).toString("hex").substring(0,15);u({marketId:d.marketId,side:f,size:b,price:p,selectionId:t,customerStrategyRef:e,unmatchedBets:m.unmatched,matchedBets:m.matched})}},"Submit"),r.a.createElement("span",{className:"grid-img-container"},r.a.createElement("a",{href:"#",onClick:function(){return!1}},r.a.createElement("img",{src:window.location.origin+"/icons/error.png",alt:"Close",onClick:s({id:t,visible:!1})}))))):null)},Ea=function(e){var t=e.marketStatus;return r.a.createElement("p",{style:"SUSPENDED"!==t?{display:"none"}:{},id:"suspended-message"},t)},ka=Object(i.b)(function(e){return{oneClickOn:e.market.oneClickOn,oneClickStake:e.settings.stake,currentEvent:e.sports.currentSport.currentEvent,marketOpen:e.market.marketOpen,marketStatus:e.market.status,inPlay:e.market.inPlay,market:e.market.currentMarket,selection:e.market.runnerSelection,ladder:e.market.ladder,runners:e.market.runners,nonRunners:e.market.nonRunners,stakeBtns:e.settings.stakeBtns,layBtns:e.settings.layBtns,countryCode:e.account.countryCode,currencyCode:e.account.currencyCode,localeCode:e.account.localeCode,graph:e.graph,bets:e.order.bets}},function(e){return{onSelectRunner:function(t){return e(Ee(t))},onUpdateRunners:function(t){return e(ge(t))},onUpdateOrder:function(t){return e(function(e){return{type:"UPDATE_ORDER",payload:e}}(t))},onUpdateOrderValue:function(t){return e(function(e){return{type:"UPDATE_ORDER_VALUE",payload:e}}(t))},onUpdateOrderPrice:function(t){return e({type:"UPDATE_ORDER_PRICE",payload:{price:(n=t).price,id:n.id}});var n},onUpdateOrderVisibility:function(t){return e(function(e){return{type:"TOGGLE_ORDER_VISIBILITY",payload:e}}(t))},onToggleStakeAndLiability:function(t){return e({type:"TOGGLE_STAKE_AND_LIABILITY",payload:{stakeLiability:(n=t).val,id:n.id}});var n},onToggleBackAndLay:function(t){return e({type:"TOGGLE_BACK_AND_LAY",payload:{backLay:(n=t).val,id:n.id}});var n},onToggleOneClick:function(t){return e(function(e){return{type:"TOGGLE_ONE_CLICK",payload:e}}(t))},setStakeInOneClick:function(t){return e(be(t))},onPlaceOrder:function(t){return e(Ze(t))}}})(function(e){var t=Object(a.useState)(null),n=Object(K.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(null),l=Object(K.a)(i,2),s=l[0],u=l[1],d=Object(a.useState)(0),m=Object(K.a)(d,2),p=m[0],f=m[1],b=Object(a.createRef)(),g=function(t,n,a){return function(r){e.oneClickOn||(e.onUpdateOrder({id:t,visible:!0,backLay:n,price:a}),f(p+1))}},y=function(e){return function(t){c(e),ca()(t.currentTarget).one("mouseleave",function(e){c(null)})}},E=function(t){return function(n){e.onToggleBackAndLay({id:t.id}),u(Object.assign(s||{},{backLay:t.backLay}))}},k=function(t){return function(n){e.onToggleStakeAndLiability(t)}},h=function(t){return function(n){e.onUpdateOrderVisibility(t),u(null),f(p-1)}},v=function(t){return function(n){t.stake||(t.stake=n.target.value),e.onUpdateOrderValue(t),u(t)}},O=function(t){return function(n){var a;t.price=parseInt(n.target.value),"number"===typeof(a=t.price)&&a>=1.01&&a<=1e3&&e.onUpdateOrderPrice(t)}},S=function(t){return function(n){e.onSelectRunner(t)}},T=function(e,t,n,a){if(!e)return Array(5).fill(r.a.createElement(da,null));for(var o=[],c=0;c<e.length&&(o.push(L(e[c][0],e[c][1],n,a)),4!==c);c++);for(;o.length<5;)o.push(r.a.createElement(da,null));return o},L=function(e,t,n,a){return r.a.createElement("td",{className:"grid-cell",onMouseEnter:y(n),onClick:g(n,a,e)},r.a.createElement("span",null,e),r.a.createElement("span",null,t))},C=function(t,n){return{val:Re(e.localeCode,e.currencyCode,Ge(t.stake,t.price,t.backLay)),color:n}},I=function(){return Object.keys(e.ladder).map(function(t){var n=ma(e.ladder[t]),a=n.atb,c=n.atl,i=(n.batb,n.batl,n.ltp),l=n.tv,u=n.bg,d=pa(e.runners[t],e.market.eventType.id),m=d.name,p=d.number,f=d.logo,b=d.order,g=0===b.stakeLiability?{text:"STAKE",text2:"BACK",prices:e.stakeBtns}:{text:"LIABILITY",text2:"LAY",prices:e.layBtns};g.text2=0===b.backLay?"BACK":"LAY",g.bg=0===b.backLay?"#DBEFFF":"#FEE9EE";var y,S,L=(-1*Object.values(e.bets.matched).filter(function(n){return n.selectionId==e.runners[t].selectionId}).map(function(e){return("LAY"===e.side?-1:1)*Ve(parseFloat(e.size),parseFloat(e.price),parseFloat(i[0]))}).reduce(function(e,t){return e-t},0)).toFixed(2);return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement(ua,{sportId:e.market.eventType.id,market:e.market,runner:e.runners[t],name:m,number:p,logo:f,ltp:i,tv:l,bets:e.bets,PL:(y=e.market.marketId,S=e.bets,Object.values(S.matched).filter(function(e){return e.marketId===y}).length>0?{val:Re(e.localeCode,e.currencyCode,na(e.market.marketId,parseInt(t),e.bets)),color:ze(b.backLay,na(e.market.marketId,parseInt(t),e.bets))}:b.visible&&o===t&&s?C(b,ze(b.backLay)):o&&o!==t&&s?C(b,ze(1^s.backLay)):{val:"",color:""}),hedge:L,bg:u}),T(a,0,t,0).reverse(),T(c,0,t,1)),r.a.createElement(ya,{runnerId:t,order:b,orderProps:g,toggleStakeAndLiabilityButtons:k,toggleBackAndLay:E,updateOrderSize:v,updateOrderPrice:O,toggleOrderRowVisibility:h,onPlaceOrder:e.onPlaceOrder,market:e.market,bets:e.bets,price:e.market.runners[t]?e.market.runners[t].order.price:0,side:s&&0==s.side?"BACK":"LAY",size:s?s.stake:0}))})},j={};Object.keys(e.ladder).map(function(t){var n=ma(e.ladder[t]).ltp;j[t]=n[0]});var x=function(e,t,n){var a=Object.values(t.matched).reduce(function(e,t){return-1===e.indexOf(t.selectionId)?e.concat(t.selectionId):e},[]);return Ke(a.map(function(a){return Object.values(t.matched).filter(function(t){return t.selectionId===a&&t.marketId===e&&n[t.selectionId]}).map(function(e){return("LAY"===e.side?-1:1)*Ve(parseFloat(e.size),parseFloat(e.price),parseFloat(n[e.selectionId].ltp[0]))}).reduce(function(e,t){return e+t},0)}).reduce(function(e,t){return e+t},0))}(e.market.marketId,e.bets,e.ladder);return r.a.createElement("div",{id:"grid-container"},r.a.createElement("table",{style:"SUSPENDED"===e.marketStatus?{opacity:.75}:{},className:"grid-view"},r.a.createElement(Ea,{marketStatus:e.marketStatus}),r.a.createElement("tbody",null,r.a.createElement(sa,{market:e.market,ladder:e.ladder,marketOpen:e.marketOpen,inPlay:e.inPlay,status:e.marketStatus,country:{localeCode:e.localeCode,countryCode:e.countryCode},oneClickRef:b,oneClickOn:e.oneClickOn,toggleOneClick:function(){return function(t){e.onToggleOneClick(!e.oneClickOn);var n=b.current;e.oneClickOn?n.blur():n.focus()}},oneClickStake:e.oneClickStake,setStakeOneClick:function(t){return function(n){e.setStakeInOneClick(t)}},stakeBtns:e.stakeBtns,layBtns:e.layBtns,bets:e.bets,ltpList:j,onPlaceOrder:e.onPlaceOrder,marketCashout:x}),e.marketOpen?"SUSPENDED"===e.marketStatus?r.a.createElement(ga,{ladder:e.ladder,runners:e.runners,selectRunner:S}):"OPEN"===e.marketStatus||"RUNNING"===e.marketStatus?r.a.createElement(r.a.Fragment,null,I(),r.a.createElement(ba,{sportId:e.market.eventType.id,nonRunners:e.nonRunners,runners:e.runners,selectRunner:S})):null:null)))}),ha=n(222),va=function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var a=t[n].split("=");if(a[0]===e)return a[1]}return!1},Oa=function(e,t){var n,a=t;if(a.ltp=[a.ltp,a.ltp],a.tv=[a.tv,a.tv],a.fullLadder=function(){var e,t={};for(e=1e3;e>=100;e-=10){var n=Gt(e);t[n]=Ht(n)}for(e=95;e>=50;e-=5){var a=Gt(e);t[a]=Ht(a)}for(e=50;e>=30;e-=2){var r=Gt(e);t[r]=Ht(r)}for(e=30;e>=20;e-=1){var o=Gt(e);t[o]=Ht(o)}for(e=20;e>=10;e-=.5){var c=Gt(e);t[c]=Ht(c)}for(e=10;e>=6;e-=.2){var i=Gt(e);t[i]=Ht(i)}for(e=6;e>=4;e-=.1){var l=Gt(e);t[l]=Ht(l)}for(e=4;e>=3;e-=.05){var s=Gt(e);t[s]=Ht(s)}for(e=3;e>=2;e-=.02){var u=Gt(e);t[u]=Ht(u)}for(e=2;e>=1;e-=.01){var d=Gt(e);t[d]=Ht(d)}return t}(),a.order={visible:!1,backLay:0,stakeLiability:0,stake:2,price:0},!(n=a.atb)||n.length<=0||(n=n.sort(function(e,t){return t[0]-e[0]})),function(e){!e||e.length<=0||(e=e.sort(function(e,t){return e[0]-t[0]}))}(a.atl),a.atb)for(var r=0;r<a.atb.length;r++){var o=Gt(a.atb[r][0]),c=Math.floor(a.atb[r][1]);c<=0?(a.atb.splice(r,1),r--):(a.fullLadder[o].odds=o,a.fullLadder[o].backMatched=c,a.atb[r][1]=c)}if(a.atl)for(r=0;r<a.atl.length;r++){var i=Gt(a.atl[r][0]),l=Math.floor(a.atl[r][1]);l<=0?(a.atl.splice(r,1),r--):(a.fullLadder[i].odds=i,a.fullLadder[i].layMatched=l,a.atl[r][1]=l)}return a.percent=Yt(a.fullLadder,a.ltp[0]),a},Sa=n(56),Ta=function(e,t,n){var a=0,r=e.length-1;if(n){r=a=r}var o=Math.floor((r-a)/2)+a;if(0===e.length||t>e[e.length-1])o=e.length;else for(;a<r;){var c=e[o][0];if(c===t)break;t<c?r=o:a=o+1,o=Math.floor((r-a)/2)+a}return o},La=function(e,t){if(t.ltp&&(e.ltp=[t.ltp].concat(Object(Sa.a)(e.ltp))),t.tv&&(e.tv=[t.tv,e.tv[0]]),t.atb)for(var n=e.atb,a=0;a<t.atb.length;a++)if(!(t.atb[a][1]>0&&Math.floor(t.atb[a][1]<=0))){var r=t.atb[a][0],o=Math.floor(t.atb[a][1]),c=Ta(n,r,!0);n[c]&&(o<=0?r===n[c][0]&&(n.splice(c,1),e.fullLadder[Gt(r)].backMatched=null):r===n[c][0]?(n[c][1]=o,e.fullLadder[Gt(r)].backMatched=o):(n.splice(c,0,[r,o]),e.fullLadder[Gt(r)].backMatched=o))}if(t.atl){var i=e.atl;for(a=0;a<t.atl.length;a++)if(!(t.atl[a][1]>0&&Math.floor(t.atl[a][1]<=0))){var l=t.atl[a][0],s=Math.floor(t.atl[a][1]),u=Ta(i,l,!1);i[u]&&(s<=0?l===i[u][0]&&(i.splice(u,1),e.fullLadder[Gt(l)].layMatched=null):l===i[u][0]?(i[u][1]=s,e.fullLadder[Gt(l)].layMatched=s):(i.splice(u,0,[l,s]),e.fullLadder[Gt(l)].layMatched=s))}}return e.percent=Yt(e.fullLadder,e.ltp[0]),e},Ca=function(e,t){if(!t)return!1;var n=(t=new Date(t))-e;return Math.floor(n/864e5)>0},Ia=n(468),ja=n(470),xa=n(471),_a=n(469),Na=n(232),wa=n(224),Aa=n.n(wa),Ba=n(407),Ra=n(223),Ma=n.n(Ra),Fa=Object(J.a)(function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},paypal:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"}}}),Pa=r.a.forwardRef(function(e,t){return r.a.createElement(Ba.a,Object.assign({direction:"up",ref:t},e))}),Da=Object(i.b)(function(e){return{open:e.settings.premiumPopupOpen,premiumMember:e.settings.premiumMember}},function(e){return{openPremiumDialog:function(t){return e(re(t))},setPremiumStatus:function(t){return e(oe(t))}}})(function(e){var t=Fa();return Object(a.useEffect)(function(){e.premiumMember&&e.openPremiumDialog(!1)},[e.premiumMember]),r.a.createElement(Ia.a,{open:e.open,onClose:function(t){return e.openPremiumDialog(!1)},TransitionComponent:Pa},r.a.createElement(Pe.a,{className:t.appBar},r.a.createElement(_a.a,null,r.a.createElement(Na.a,{edge:"start",color:"inherit",onClick:function(t){return e.openPremiumDialog()},"aria-label":"close"},r.a.createElement(Aa.a,null)),r.a.createElement(X.a,{variant:"h6",className:t.title},"Sports Trader Pro Licence"))),r.a.createElement(ja.a,null,r.a.createElement(xa.a,null,"You are required to pay the monthly subscription fee of \xa39.99 in order to access Trader Pro's advanced features."),r.a.createElement(Ma.a,{className:t.paypal,env:"sandbox",client:{sandbox:"ARDKtjP_BpHKUgh58tk1RsXHlxbdlmPC0FVhXRFX2zysVNxBMGnUSTPDAUCkKcQ9pwKYWx4slLhwCSZS",production:"YOUR-PRODUCTION-APP-ID"},currency:"GBP",total:9.99,onError:function(e){},onSuccess:function(t){return e.setPremiumStatus(!0),e.openPremiumDialog(!1),t.expiresIn=function(){var e=new Date;return 11==e.getMonth()?new Date(e.getFullYear()+1,0,1):new Date(e.getFullYear(),e.getMonth()+1,e.getDate())}(),fetch("/paypal-transaction-complete",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)})},onCancel:function(e){}})))}),Ua=function(e,t,n,a){var r=Object.assign({},a);return void 0!==e[t]&&e[t].rfs===n.rfs&&0===n.sr&&(r[t].assignedIsOrderMatched=!0,fetch("/api/update-order",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(r[t])})),r},Ka=function(e,t,n,a,r,o,c){var i=e[t.rfs],l=Object(Sa.a)(a),s=Object.assign({},r);return void 0!==i&&t.sm/i.size>=i.percentageTrigger/100&&(n({marketId:i.marketId,selectionId:i.selectionId,side:"BACK"===i.side?"LAY":"BACK",size:i.size,price:i.price,unmatchedBets:o,matchedBets:c}),l=l.concat(s[t.rfs]),delete s[t.rfs],console.log(l)),{tickOffsetOrdersToRemove:l,checkForMatchInTickOffset:s}},Ga=n(225),za=n.n(Ga),Ya=Object(i.b)(function(e){return{marketOpen:e.market.marketOpen,market:e.market.currentMarket,selection:e.market.runnerSelection,graph:e.graph}})(function(e){return e.selection&&e.graph.open?r.a.createElement("img",{alt:"Chart",style:{pointerEvents:"none"},src:"https://sportsiteexweb.betfair.com/betting/LoadRunnerInfoChartAction.do?marketId=".concat(e.market.marketId.slice(2,e.market.marketId.length),"&selectionId=").concat(e.selection.selectionId,"&handicap=0")}):null}),Ha=function(){var e=Object(ae.a)(ne.a.mark(function e(t,n,a,r,o){var c,i,l,s=arguments;return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=s.length>5&&void 0!==s[5]&&s[5],i=[],l=[],n.map(function(e,n){(t<e.targetLTP&&"<"==e.stopEntryCondition||t==e.targetLTP&&"="==e.stopEntryCondition||t>e.targetLTP&&">"==e.stopEntryCondition)&&(a(Object.assign({},e,{unmatchedBets:r,matchedBets:o})),i=i.concat(n),l=l.concat(e))}),!(l.length>0)){e.next=8;break}if(c){e.next=8;break}return e.next=8,fetch("/api/remove-orders",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(l)});case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}},e)}));return function(t,n,a,r,o){return e.apply(this,arguments)}}(),Wa=function(){var e=Object(ae.a)(ne.a.mark(function e(t,n,a,r,o,c,i){var l,s,u,d,m=arguments;return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=m.length>7&&void 0!==m[7]&&m[7],s=t[n],u=Object.assign({},o),void 0===s){e.next=14;break}return e.prev=4,e.next=7,Ha(a,s,r,c,i,l);case 7:d=e.sent,console.log(s.length,d.length),s.length>d.length?(console.log(s),u[n]=s.filter(function(e,t){return-1===d.indexOf(t)})):delete u[n],e.next=14;break;case 12:e.prev=12,e.t0=e.catch(4);case 14:return e.abrupt("return",u);case 15:case"end":return e.stop()}},e,null,[[4,12]])}));return function(t,n,a,r,o,c,i){return e.apply(this,arguments)}}(),Va=function(e,t,n,a){var r=Object.assign({},e[t]);return e[t].trailing&&n>a&&(r.tickOffset=r.tickOffset+1),r},Xa=function(e,t,n,a,r,o,c,i){var l,s,u,d,m,p,f=Object(Sa.a)(r),b=Object.assign({},o);if(void 0===e.rfs||e.rfs&&e.assignedIsOrderMatched){var g=(l=e.size,s=e.price,u=n,d=e.side.toLowerCase(),m=e.tickOffset,p=e.units.toLowerCase(),s=parseFloat(s),u=parseFloat(u),"back"===d&&u<s||"lay"===d&&u>s?{targetMet:!1,priceReached:Qn(s,m,d,p)}:"percent"===p?{targetMet:Ue(l,s,u)>m,stopPrice:ea(l,s,m,d)}:Math.abs(Kt.indexOf(s)-Kt.indexOf(u))>=m?{targetMet:!0,priceReached:Qn(s,m,d,p)}:{targetMet:!1,priceReached:Qn(s,m,d,p)});g.targetMet?(a({marketId:e.marketId,selectionId:e.selectionId,side:e.side,size:e.size,price:g.priceReached,unmatchedBets:c,matchedBets:i}),f=f.concat(e),delete b[t]):b[t]=e}return{adjustedStopLossList:b,stopLossOrdersToRemove:f}},Ja=function(e){var t=Object(Z.b)(["sessionKey","username"]),n=Object(K.a)(t,1)[0],o=function(){var e=Object(ae.a)(ne.a.mark(function e(){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/load-session?sessionKey=".concat(encodeURIComponent(n.sessionKey),"&email=").concat(encodeURIComponent(n.username)));case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),c=function(){var t=Object(ae.a)(ne.a.mark(function t(){return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/get-user-settings").then(function(e){return e.json()}).then(function(t){e.onToggleSounds(t.sounds),e.onToggleTools(t.tools),e.onToggleUnmatchedBets(t.unmatchedBets),e.onToggleMatchedBets(t.matchedBets),e.onToggleGraph(t.graphs),e.onToggleMarketInformation(t.marketInfo),e.onUpdateWinMarketsOnly(t.winMarketsOnly),e.onToggleRules(t.rules),e.onToggleLadderUnmatched(t.ladderUnmatched),e.onReceiveStakeBtns(t.stakeBtns),e.onReceiveLayBtns(t.layBtns)});case 2:return t.next=4,fetch("/api/premium-status").then(function(e){return e.json()}).then(function(t){var n=new Date,a=Ca(n,t);e.setPremiumStatus(a)});case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i=function(){var t=Object(ae.a)(ne.a.mark(function t(){var n,a,r,o,c,i,l,s,u;return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!1===(n=va("marketId"))){t.next=14;break}return t.next=4,fetch("/api/get-market-info?marketId=".concat(n)).then(function(e){return e.json()}).then(function(t){if(t.result.length>0){for(var n={},a=0;a<t.result[0].runners.length;a++){var r=t.result[0].runners[a].selectionId;n[r]=t.result[0].runners[a],n[r].order={visible:!1,backLay:0,stakeLiability:0,stake:2,price:0}}e.onUpdateRunners(n),e.onReceiveMarket(t.result[0]),e.onSelectRunner(t.result[0].runners[0]),e.socket.emit("market-subscription",{marketId:t.result[0].marketId})}});case 4:return a={},r={},o={},c={},i={},l={},s={},u={},t.next=14,fetch("/api/get-all-orders").then(function(e){return e.json()}).then(function(){var e=Object(ae.a)(ne.a.mark(function e(t){var d;return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d=function(){var e=Object(ae.a)(ne.a.mark(function e(t){var d,m;return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/listCurrentOrders?marketId=".concat(n)).then(function(e){return e.json()}).then(function(e){return e.currentOrders});case 2:d=e.sent,m={},d.map(function(e){m[e.betId]=e,m[e.betId].price=e.averagePriceMatched}),t.map(function(){var e=Object(ae.a)(ne.a.mark(function e(t){return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.marketId!==n){e.next=17;break}e.t0=t.strategy,e.next="Back"===e.t0?4:"Lay"===e.t0?6:"Stop Entry"===e.t0?8:"Tick Offset"===e.t0?10:"Fill Or Kill"===e.t0?12:"Stop Loss"===e.t0?14:16;break;case 4:return a[t.selectionId]=void 0===a[t.selectionId]?[t]:a[t.selectionId].concat(t),e.abrupt("break",17);case 6:return r[t.selectionId]=void 0===r[t.selectionId]?[t]:r[t.selectionId].concat(t),e.abrupt("break",17);case 8:return o[t.selectionId]=void 0===o[t.selectionId]?[t]:o[t.selectionId].concat(t),e.abrupt("break",17);case 10:return c[t.rfs]=t,e.abrupt("break",17);case 12:return"EXECUTABLE"===m[t.betId]&&(i[t.betId]=t),e.abrupt("break",17);case 14:return l[t.selectionId]=t,e.abrupt("break",17);case 16:return e.abrupt("break",17);case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),Object.keys(m).map(function(){var e=Object(ae.a)(ne.a.mark(function e(t){var n,a;return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=m[t],a={strategy:"None",marketId:n.marketId,side:n.side,price:n.price,size:"EXECUTION_COMPLETE"===n.status?n.sizeMatched:n.priceSize.size,selectionId:n.selectionId,rfs:n.customerStrategyRef?n.customerStrategyRef:"None",betId:t},"EXECUTION_COMPLETE"===n.status?u[n.betId]=a:"EXECUTABLE"===n.status&&(s[n.betId]=a);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),e.next=3,d(t);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).then(function(){e.onChangeOrders({matched:u,unmatched:s}),e.onChangeBackList(a),e.onChangeLayList(r),e.onChangeStopEntryList(o),e.onChangeTickOffsetList(c),e.onChangeFillOrKillList(i),e.onChangeStopLossList(l)});case 14:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Object(ae.a)(ne.a.mark(function t(){return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o();case 2:return t.next=4,c();case 4:return t.next=6,i();case 6:e.setLoading(!1);case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)(function(){l()},[]),Object(a.useEffect)(function(){Object.keys(e.unmatchedBets).length>0&&e.socket.emit("order-subscription",{customerStrategyRefs:JSON.stringify(Object.values(e.unmatchedBets).map(function(e){return e.rfs}))})},[Object.keys(e.unmatchedBets).length]),Object(a.useEffect)(function(){e.socket.on("mcm",function(){var t=Object(ae.a)(ne.a.mark(function t(n){var a,r,o,c,i,l,s,u,d,m,p;return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.marketDefinition&&(e.onMarketStatusChange(n.marketDefinition.status),e.setInPlay(n.marketDefinition.inPlay)),a=Object.assign({},e.ladders),r=Object.assign({},e.nonRunners),o=Object.assign({},e.stopLossList),c={},i={},l=Object.assign({},e.stopEntryList),s=[],t.next=10,Promise.all(n.rc.map(function(){var t=Object(ae.a)(ne.a.mark(function t(r){var u,d,m,p,f,b,g,y,E,k;return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r.id in e.ladders)){t.next=17;break}if(a[r.id]=La(e.ladders[r.id],r),u=va("marketId"),"RUNNING"!==e.marketDefinition.marketStatus){t.next=12;break}return t.next=6,at(e.backList[r.id],r.id,n.marketDefinition.openDate,e.onPlaceOrder,u,"BACK",e.matchedBets,e.unmatchedBets);case 6:return(d=t.sent).length>0&&(c[r.id]=d),t.next=10,at(e.layList[r.id],r.id,n.marketDefinition.openDate,e.onPlaceOrder,u,"LAY",e.matchedBets,e.unmatchedBets);case 10:(m=t.sent).length>0&&(i[r.id]=m);case 12:l=Wa(e.stopEntryList,r.id,r.ltp,e.onPlaceOrder,l,e.unmatchedBets,e.matchedBets),console.log(r.id),void 0!==e.stopLossList[r.id]&&(p=e.ladders[r.id].ltp.sort(function(e,t){return t-e})[0],(f=Object.assign({},Va(e.stopLossList,r.id,r.ltp,p))).hedged&&(b=Object.values(e.bets.matched).filter(function(e){return e.selectionId==f.selectionId}),g=b.reduce(function(e,t){return e+t.size},0),y=b.map(function(e){return("LAY"===e.side?-1:1)*Ve(parseFloat(e.size),parseFloat(e.price),parseFloat(f.price))}),E=-1*y.reduce(function(e,t){return e+t},0),f.size=g+E),k=Xa(f,r.id,r.ltp,e.onPlaceOrder,s,o,e.unmatchedBets,e.matchedBets),o=k.adjustedStopLossList,s=k.stopLossOrdersToRemove),t.next=18;break;case 17:a[r.id]=Oa(r.id,r);case 18:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 10:if(n.marketDefinition&&(e.onMarketStatusChange(n.marketDefinition.status),e.setInPlay(n.marketDefinition.inPlay),n.marketDefinition.runners.map(function(e){"REMOVED"===e.status&&e.id in a&&(r[e.id]=a[e.id],delete a[e.id])})),!(s.length>0)){t.next=14;break}return t.next=14,fetch("/api/remove-orders",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(s)});case 14:return Object.keys(e.backList).length>0&&e.onChangeBackList(c),Object.keys(e.layList).length>0&&e.onChangeLayList(i),Object.keys(e.stopEntryList).length>0&&e.onChangeStopEntryList(l),Object.keys(e.stopLossList).length>0&&e.onChangeStopLossList(o),e.socket.off("mcm"),e.onReceiverLadders(a),e.onReceiveNonRunners(r),e.onChangeExcludedLadders(Object.keys(a).slice(6,Object.keys(a).length)),u=va("marketId"),t.prev=23,t.next=26,fetch("/api/list-market-book?marketId=".concat(u)).then(function(e){return e.json()});case 26:d=t.sent,m=d,p={},Object.values(m.result[0].runners).map(function(e){p[e.selectionId]=e.ex.tradedVolume}),e.onSetMarketVolume(p),t.next=35;break;case 33:t.prev=33,t.t0=t.catch(23);case 35:case"end":return t.stop()}},t,null,[[23,33]])}));return function(e){return t.apply(this,arguments)}}()),e.socket.on("ocm",function(){var t=Object(ae.a)(ne.a.mark(function t(n){var a,r,o,c,i;return ne.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.oc){t.next=13;break}if(a=Object.assign({},e.unmatchedBets),r=Object.assign({},e.matchedBets),o=Object.assign({},e.stopLossList),c=Object.assign({},e.tickOffsetList),i=[],n.oc.map(function(t){t.orc.map(function(t){t.uo&&t.uo.map(function(n){void 0!==a[n.id]?delete a[n.id]:0==n.sr&&(r[n.id]=a[n.id],delete a[n.id]),o=Ua(e.stopLossList,t.id,n,o);var l=Ka(e.tickOffsetList,n,e.onPlaceOrder,i,c,e.unmatchedBets,e.matchedBets);c=l.checkForMatchInTickOffset,i=l.tickOffsetOrdersToRemove})})}),!(i.length>0)){t.next=10;break}return t.next=10,fetch("/api/remove-orders",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(i)});case 10:Object.keys(e.stopLossList).length>0&&e.onChangeStopLossList(o),Object.keys(e.tickOffsetList).length>0&&e.onChangeTickOffsetList(c),Object.keys(e.unmatchedBets).length>0&&e.onChangeOrders({unmatched:a,matched:r});case 13:e.socket.off("ocm");case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},[e.ladders]);return e.isLoading?r.a.createElement("div",{id:"spinner"},r.a.createElement(Te.a,{type:"Puff",color:"#00BFFF",height:100,width:100})):r.a.createElement("div",{className:"horizontal-scroll-wrapper"},r.a.createElement("div",{className:"root"},e.marketOpen?r.a.createElement(ha.Helmet,null,r.a.createElement("title",null,"".concat(new Date(e.market.marketStartTime).toLocaleTimeString()," ").concat(e.market.marketName,"  ").concat(e.market.event.venue||""))):null,r.a.createElement(Nn,null),r.a.createElement("main",{className:"content"},r.a.createElement(za.a,{bounds:"body"},r.a.createElement("div",{className:"box",style:{position:"absolute",top:"25%",left:"50%",zIndex:9999}},r.a.createElement(Ya,null))),function(){switch(e.view){case"HomeView":return r.a.createElement(Pn,null);case"LadderView":return r.a.createElement(ra,null);case"GridView":return r.a.createElement(ka,null);default:return r.a.createElement(Pn,null)}}(),r.a.createElement(Da,null))))},qa=Object(i.b)(function(e){return{view:e.settings.view,isLoading:e.settings.isLoading,market:e.market.currentMarket,marketOpen:e.market.marketOpen,marketStatus:e.market.status,ladders:e.market.ladder,nonRunners:e.market.nonRunners,premiumMember:e.settings.premiumMember,premiumPopup:e.settings.premiumPopupOpen,stopLossList:e.stopLoss.list,tickOffsetList:e.tickOffset.list,stopEntryList:e.stopEntry.list,fillOrKillList:e.fillOrKill.list,layList:e.lay.list,backList:e.back.list,unmatchedBets:e.order.bets.unmatched,matchedBets:e.order.bets.matched}},function(e){return{setLoading:function(t){return e(function(e){return{type:"SET_LOADING",payload:e}}(t))},onToggleSounds:function(t){return e(ce(t))},onToggleTools:function(t){return e(ie(t))},onToggleUnmatchedBets:function(t){return e(le(t))},onToggleMatchedBets:function(t){return e(se(t))},onToggleGraph:function(t){return e(ue(t))},onToggleMarketInformation:function(t){return e(de(t))},onUpdateWinMarketsOnly:function(t){return e(me(t))},onToggleRules:function(t){return e(pe(t))},onToggleLadderUnmatched:function(t){return e(fe(t))},onReceiveStakeBtns:function(t){return e({type:"SET_STAKE_BUTTONS",payload:t})},onReceiveLayBtns:function(t){return e({type:"SET_LAY_BUTTONS",payload:t})},onReceiveMarket:function(t){return e(function(e){return{type:"LOAD_MARKET",payload:e}}(t))},onSelectRunner:function(t){return e(Ee(t))},onUpdateRunners:function(t){return e(ge(t))},onReceiverLadders:function(t){return e({type:"LOAD_LADDER",payload:t})},onReceiveNonRunners:function(t){return e(function(e){return{type:"LOAD_NON_RUNNERS",payload:e}}(t))},onChangeExcludedLadders:function(t){return e(ye(t))},onMarketStatusChange:function(t){return e({type:"NEW_MARKET_STATUS",payload:t})},setInPlay:function(t){return e(function(e){return{type:"SET_IN_PLAY",payload:e}}(t))},setPremiumStatus:function(t){return e(oe(t))},onChangeStopLossList:function(t){return e(he(t))},onChangeTickOffsetList:function(t){return e(ve(t))},onChangeStopEntryList:function(t){return e(Oe(t))},onChangeLayList:function(t){return e(Qe(t))},onChangeBackList:function(t){return e(et(t))},onPlaceOrder:function(t){return e(Ze(t))},onChangeFillOrKillList:function(t){return e(tt(t))},onChangeOrders:function(t){return e(qe(t))},onSetMarketVolume:function(t){return e(function(e){return{type:"SET_MARKET_VOLUME",payload:e}}(t))}}})(function(e){return r.a.createElement(wn.Consumer,null,function(t){return r.a.createElement(Ja,Object.assign({},e,{socket:t}))})}),Za=function(){return r.a.createElement("div",{style:{width:"100%",height:"30%"}},r.a.createElement("div",{style:{height:"20%",backgroundColor:"rgb(38, 194, 129)",color:"white",paddingLeft:"1%",display:"flex",alignItems:"center",justifyContent:"flex-start",fontSize:"1.5em",fontWeight:"bold"}},"Sports Trading App Market Settlement"),r.a.createElement("div",{style:{paddingLeft:"1%",display:"flex",flexDirection:"column",height:"80%",justifyContent:"center",border:"solid 2px rgb(83, 221, 164)",borderTop:"none"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("p",{style:{fontSize:"1.5em",marginBottom:"0.5rem",fontFamily:"Open Sans"}},"17:35 2m INHF Galway"),r.a.createElement("em",{style:{color:"gray",fontWeight:"200"}},"Created Sat 26 Oct 2019 at 18:47 (commission not included)")),r.a.createElement("a",{href:"http://localhost:8080/dashboard",style:{marginTop:"2%",backgroundColor:"rgb(38, 194, 129)",width:"max-content",padding:"0.75% 1%",textDecoration:"none",color:"white"}},"Back To Dashboard \u2192")))},$a=n(472),Qa=Object(J.a)({root:{width:"100%"},tableWrapper:{maxHeight:"55vh",overflowX:"hidden"}}),er=[{id:"selection",label:"Selection",minWidth:170},{id:"win",label:"If Win",minWidth:75},{id:"lose",label:"If Lose",minWidth:75},{id:"settled",label:"Settled",minWidth:75},{id:"result",label:"Result",minWidth:50}],tr=function(e){var t=e.matchedBets;e.runners;var n={};t.map(function(e){n[e.selectionId]?n[e.selectionId].push(e):n[e.selectionId]=[e]});var a=Qa();return r.a.createElement("div",{style:{width:"49%",height:"100%",display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{height:"10%",backgroundColor:"rgb(103, 128, 159)",color:"white",paddingLeft:"2%",display:"flex",alignItems:"center",justifyContent:"flex-start",fontSize:"1.3em",fontWeight:"bold"}},"Closed Market Report"),r.a.createElement(Nt.a,{className:a.root,style:{height:"90%"}},r.a.createElement("div",{style:{height:"100%",border:"solid 2px rgb(146, 164, 186)",borderTop:"none"},className:a.tableWrapper},r.a.createElement(It.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement($a.a,null,r.a.createElement(_t.a,null,er.map(function(e){return r.a.createElement(xt.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)}))),r.a.createElement(jt.a,null,[].map(function(e){return r.a.createElement(_t.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.code},er.map(function(t){var n=e[t.id];return r.a.createElement(xt.a,{key:t.id,align:t.align},t.format&&"number"===typeof n?t.format(n):n)}))}))))))},nr=Object(J.a)({root:{width:"100%"},tableWrapper:{maxHeight:"55vh",overflowX:"hidden"}}),ar=[{id:"placedDate",label:"Placed",minWidth:75},{id:"selection",label:"Selection",minWidth:75},{id:"averagePriceMatched",label:"Odds",minWidth:75},{id:"sizeMatched",label:"Stake / (Liability)",minWidth:200},{id:"win",label:"Status",minWidth:75}],rr=function(e){var t=e.matchedBets,n=e.runners,a=void 0===n?[]:n,o={};a.map(function(e){o[e.selectionId]=e.runnerName});var c=t.sort(function(e,t){return Date.parse(t.placedDate)-Date.parse(e.placedDate)}).map(function(e){return ir(cr(or(e),o))});console.log(a);var i=c,l=nr();return r.a.createElement("div",{style:{width:"49%",height:"100%",display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{height:"10%",backgroundColor:"rgb(103, 128, 159)",color:"white",paddingLeft:"2%",display:"flex",alignItems:"center",justifyContent:"flex-start",fontSize:"1.3em",fontWeight:"bold"}},"Bets Placed"),r.a.createElement(Nt.a,{className:l.root,style:{height:"90%"}},r.a.createElement("div",{style:{height:"100%",border:"solid 2px rgb(146, 164, 186)",borderTop:"none"},className:l.tableWrapper},r.a.createElement(It.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement($a.a,null,r.a.createElement(_t.a,null,ar.map(function(e){return r.a.createElement(xt.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)}))),r.a.createElement(jt.a,null,i.map(function(e){return r.a.createElement(_t.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.code},ar.map(function(t){var n=e[t.id],a="BACK"===e.side;return r.a.createElement(xt.a,{key:t.id,align:t.align},"sizeMatched"===t.id?r.a.createElement("span",{style:{backgroundColor:a?"rgb(114, 187, 239)":"rgb(250, 169, 186)",padding:"2px",paddingLeft:"4px",width:"20%",borderRadius:"2px",marginRight:"2%",display:"inline-block",color:"white"}},a?"BACK":"LAY"):null,"win"===t.id?r.a.createElement("span",{style:{display:"inline-block",width:"35%",padding:"3px",borderRadius:"3px",textAlign:"center",color:"white",backgroundColor:t.win?"rgb(37, 194, 129)":"rgb(237, 107, 117)"}},t.win?"Won":"Lost"):null,t.format&&"number"===typeof n?t.format(n):n)}))}))))))},or=function(e){var t=new Date(e.placedDate),n=new Date(Date.now()).getDate(),a=t.getDate(),r=new Date(Date.now()).getMonth()!==t.getMonth()||a>n||a<n?t.toLocaleString("en-GB",{timeZone:"UTC",hour12:!1}):t.toLocaleTimeString(t,{timeZone:"UTC",hour12:!1});return Object.assign({},e,{placedDate:r})},cr=function(e,t){return Object.assign({},e,{selection:t[e.selectionId]})},ir=function(e,t){return t?Object.assign({},e,{win:"WINNER"===t[e.selectionId].status}):e},lr=Object(i.b)(function(e){return{}},function(e){return{}})(function(){var e=Object(Z.b)(["sessionKey","username"]),t=(Object(K.a)(e,1)[0],Object(a.useState)([])),n=Object(K.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)({}),l=Object(K.a)(i,2),s=l[0],u=l[1],d=va("marketId");return Object(a.useEffect)(function(){!function(){var e=Object(ae.a)(ne.a.mark(function e(){var t,n,a;return ne.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/listCurrentOrders?marketId=".concat(d)).then(function(e){return e.json()}).then(function(e){return e.currentOrders});case 2:return t=e.sent,n=t.filter(function(e){return"EXECUTION_COMPLETE"===e.status}),c(n),e.next=7,fetch("/api/list-market-book?marketId=".concat(d)).then(function(e){return e.json()}).then(function(e){return e.response.result[0]});case 7:a=e.sent,u(a);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),r.a.createElement("div",{style:{padding:"2%"}},r.a.createElement(Za,null),r.a.createElement("div",{style:{width:"100%",height:"60%",marginTop:"1.5%",display:"flex",justifyContent:"space-between"}},r.a.createElement(tr,{matchedBets:o,runners:s.runners?s.runners:[]}),r.a.createElement(rr,{matchedBets:o,runners:s.runners?s.runners:[]})))}),sr=Object(i.b)()(function(e){var t=Object(Z.b)(["sessionKey","username","refreshToken","expiresIn"]),n=Object(K.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(null),l=Object(K.a)(i,2),s=l[0],u=l[1],d=Object(a.useState)(null),m=Object(K.a)(d,2),p=m[0],f=m[1];return Object(a.useEffect)(function(){o.sessionKey&&fetch("/api/load-session?sessionKey=".concat(encodeURIComponent(o.sessionKey),"&email=").concat(o.username)).then(function(e){fetch("/api/get-subscription-status").then(function(e){return e.json()}).then(function(e){u(e.isSubscribed),!1!==s&&e.accessToken?fetch("/api/request-access-token?tokenType=REFRESH_TOKEN").then(function(e){return e.json()}).then(function(e){c("accessToken",e.accessToken),c("refreshToken",e.refreshToken),c("expiresIn",e.expiresIn),f(!0)}):window.location="http://identitysso.betfair.com/view/vendor-login?client_id=74333&response_type=code&redirect_uri=validation"})})}),r.a.createElement(r.a.Fragment,null,!0===p&&!0===s?r.a.createElement(U.a,{to:"/dashboard"}):null,r.a.createElement("section",null,"Redirecting..."))}),ur=Object(i.b)(function(e){return{loggedIn:e.account.loggedIn}},function(e){return{onLogin:function(t){return e(G(t))}}})(function(e){var t=Object(Z.b)(["sessionKey","username","refreshToken","expiresIn"]),n=Object(K.a)(t,3),o=n[0],c=n[1];n[2];return Object(a.useEffect)(function(){var t=va("code");o.sessionKey&&fetch("/api/load-session?sessionKey=".concat(encodeURIComponent(o.sessionKey),"&email=").concat(encodeURIComponent(o.username))).then(function(n){t&&200===n.status&&fetch("/api/request-access-token?tokenType=AUTHORIZATION_CODE&code=".concat(encodeURIComponent(t))).then(function(e){return e.json()}).then(function(t){c("accessToken",t.accessToken),c("refreshToken",t.refreshToken),c("expiresIn",t.expiresIn),e.onLogin(!0)})})},[]),e.loggedIn?r.a.createElement(U.a,{to:"/dashboard"}):r.a.createElement("section",null,"Redirecting...")}),dr=n(226),mr=n.n(dr)()("http://localhost:8000"),pr=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.d,fr=Object(F.c)(M),br=Object(F.e)(fr,pr(Object(F.a)(P.a)));c.a.render(r.a.createElement(i.a,{store:br},r.a.createElement(Z.a,null,r.a.createElement(wn.Provider,{value:mr},r.a.createElement(D.a,null,r.a.createElement(U.d,null,r.a.createElement(U.b,{path:"/",exact:!0,component:Q}),r.a.createElement(U.b,{path:"/dashboard",component:qa}),r.a.createElement(U.b,{path:"/getClosedMarketStats",component:lr}),r.a.createElement(U.b,{path:"/authentication",exact:!0,component:sr}),r.a.createElement(U.b,{path:"/validation",exact:!0,component:ur}),r.a.createElement(U.b,{path:"/logout",exact:!0,component:ee})))))),document.getElementById("root"))}},[[245,1,2]]]);
//# sourceMappingURL=main.dbdbe2e9.chunk.js.map